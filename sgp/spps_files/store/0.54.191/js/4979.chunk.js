"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["4979"],{31066:function(e,t,n){n.d(t,{S:()=>d});var r=n(67294),a=n(94184),o=n(56144),i=n(39620),c=n(71766),l=n(48597);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,n=e.showGoogleCaptcha,d=e.setShowGoogleCaptcha,s=e.captchaVerifiedCb,m=e.siteKey,f=e.captchaErrorCb,v=e.shouldCloseOnOverlayClick,p=void 0===v||v,y=e.inertClassList,E=void 0===y?[]:y,_=(0,l.YB)(),b=(0,r.useRef)(null),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(""))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=g[0],h=g[1];function N(){setTimeout(function(){b.current&&b.current.reset()},1e3)}return(0,r.useEffect)(function(){return n?(document.body&&document.body.classList&&document.body.classList.add("body--overflow-hidden"),setTimeout(function(){if(b.current){var e=document.querySelector(".google-recaptcha__content iframe");e&&(e.setAttribute("tabindex","0"),e.focus())}},100),E.forEach(function(e){var t,n;"root"===e?null===(t=document.getElementById("root"))||void 0===t||t.setAttribute("inert",""):null===(n=document.querySelector(".".concat(e)))||void 0===n||n.setAttribute("inert","")})):document.body&&document.body.classList&&document.body.classList.remove("body--overflow-hidden"),function(){E.forEach(function(e){var t,n;"root"===e?null===(t=document.getElementById("root"))||void 0===t||t.removeAttribute("inert"):null===(n=document.querySelector(".".concat(e)))||void 0===n||n.removeAttribute("inert")})}},[n]),r.createElement(r.Fragment,null,r.createElement(i.H,{className:"google-recaptcha"},r.createElement(o.Z,{className:a("google-recaptcha__content",{"google-recaptcha--show":n}),ref:b,sitekey:void 0===m?"6Le2lq4ZAAAAAICguqzsVnvy9ZTCNYzl3fZyJJ9Q":m,onChange:function(e){e&&(s(e),d(!1),N())},onErrored:function(){f?f():h(_.get("5ab2a936ac059748f9ea09f852e2e98d"))},onClick:function(){p&&(d(!1),N())}})),r.createElement(c.F,{msg:S,callback:function(){return h("")}}))}},77588:function(e,t,n){n.d(t,{J:()=>m});var r=n(67294),a=n(44810),o=n(68522),i=n(25228),c=n(94184),l=n.n(c);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t,n=e.portalClassName,c=void 0===n?"":n,u=e.className,m=void 0===u?"":u,f=e.children,v=e.content,p=e.placement,y=void 0===p?"left":p,E=e.isCountDown,_=void 0!==E&&E,b=e.disableEvent,g=void 0!==b&&b,S=e.second,h=void 0===S?3:S,N=e.onChange,I=e.defaultChildWidth,T=e.defaultChildHeight,O=e.isClickClose,A=void 0!==O&&O,C=e.isClickOpen,w=void 0!==C&&C,D=e.handleClick,x=s((0,r.useState)(_),2),k=x[0],R=x[1],j=s((0,r.useState)({width:void 0===I?50:I,height:void 0===T?50:T}),2),M=j[0],L=j[1],P=(0,i.ag)(),U="mobile"===P,G=function(e){!g&&(R(e),N&&N(e))},F=function(){U&&(null==D||D()),A&&k?(R(!1),N&&N(!1)):w&&!k&&(R(!0),N&&N(!0))};(0,r.useEffect)(function(){if(_)var e=setTimeout(function(){R(!1),N&&N(!1),clearTimeout(e)},1e3*h)},[]);var B=(0,r.useCallback)(function(e){if(e){var t=e.getBoundingClientRect(),n=t.height;L({width:t.width,height:n})}},[P]);return r.createElement("div",{className:l()("mi-tip-box",d({},c,!!c)),onMouseEnter:function(){return G(!0)},onMouseLeave:function(){return G(!1)},onClick:F,onTouchEnd:F,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==D||D(),k?G(!1):G(!0)),"Escape"===e.key&&(e.preventDefault(),k&&G(!1))},style:{"--ref-width":"".concat(M.width,"px"),"--ref-height":"".concat(M.height,"px")}},r.createElement("div",{ref:B},f),r.createElement(a.Z,{component:null},k&&r.createElement(o.Z,{classNames:"mi-tip-box__wrapper",timeout:150},r.createElement("div",{className:l()("mi-tip-box__content",(d(t={},"mi-tip-box--".concat(y),!!y),d(t,m,!!m),t))},r.createElement("div",{role:"tooltip"},v),r.createElement("div",{className:"mi-tip-box__arrow"})))))}},52972:function(e,t,n){n.d(t,{Z:()=>c});var r=n(67294),a=n(73935),o=n(71766);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"text",value:function(e,n){var c,l,u,d,s,m;t.hide(),t.currentToastCloseFn=(c={msg:e,duration:n},l=document.querySelector(".mi-toast"),u=document.querySelector("body"),!l&&((l=document.createElement("div")).setAttribute("class","mi-toast"),l.setAttribute("aria-live","polite"),l.setAttribute("role","alert"),u&&u.appendChild(l)),l.setAttribute("aria-label",c.msg),d=function(){},a.render(r.createElement(o.F,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},c),m=m={getCloseFunc:function(e){d=e},callback:function(){a.unmountComponentAtNode(l)}},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(m)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(m)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(m,e))}),s)),l),d)}},{key:"hide",value:function(){var e;null===(e=t.currentToastCloseFn)||void 0===e||e.call(t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t,e),t}();i(c,"currentToastCloseFn",null)},71083:function(e,t,n){n.d(t,{At:()=>s,c4:()=>v,k6:()=>f});var r=n(67294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}var u={isOptInTradeIn:!1,priceQuoteId:"",modelId:0,deviceId:"",deviceName:"",answers:[],extras:[],credit:0,extraCreditForOldDevice:0,extraCreditForNewDevice:0,totalCredit:0},d={isSkuPanelShow:!1,isCountDownShow:!0,isAlwaysNextActive:!1,productName:"",productPrice:0,totalPrice:0,currentGoodsId:0,currentGoodsInfo:null,currentGoodsSelect:0,currentGoodsNum:1,currentBundleIds:[[0,0]],currentInsuranceIds:[0],currentSpuInfo:null,currentActivityMap:{},newActivityMap:{dailyPicksIds:[],reservationIds:[]},goodsInfoActivityList:[],goodsIdSkuInfoList:[],bigTapDiffTime:0,bigTapDisabledIds:[0],miExchange:{weuTradeInInfo:u,inMiExchangeInfo:{hasExtraBonus:!1,isInExchangeActive:!1,inExchangeAmount:0,selectModelName:"",selectBrandName:"",inExchangeImei:"",priceQuoteId:"",exchangeType:0,inSubsidyAmount:0,bumpUpSubsidyAmount:0,reduction:0,baseAmount:0},idTradeInInfo:{laku6ExchangeActive:!1,laku6ExchangeImei:"",laku6ExchangeModel:"",laku6ExchangeAmount:0}},isPreOrderTimeToBuy:!1,pinCode:"",bonusValue:"0",bonusLabel:"",tradeInWeuOfferedPrice:"0",buyTogetherIdMap:{},afterSaleRankData:"",tradeInSelected:!1,isNotified:!1,isReservationBuyChecked:!1,getActivityDataSuccess:!1,matchCurrentSku:!1,currentInstallationIds:[]},s={OPEN_SKU_PANEL:"OPEN_SKU_PANEL",CLOSE_SKU_PANEL:"CLOSE_SKU_PANEL",SHOW_COUNT_DOWN:"SHOW_COUNT_DOWN",HIDE_COUNT_DOWN:"HIDE_COUNT_DOWN",ACTIVE_ALWAYS_NEXT:"ACTIVE_ALWAYS_NEXT",RESET_ALWAYS_NEXT:"RESET_ALWAYS_NEXT",ACTIVE_IN_EXCHANGE:"ACTIVE_IN_EXCHANGE",RESET_IN_EXCHANGE:"RESET_IN_EXCHANGE",ACTIVE_FINISHED_EXCHANGE:"ACTIVE_FINISHED_EXCHANGE",RESET_FINISHED_EXCHANGE:"RESET_FINISHED_EXCHANGE",SET_PRODUCT_NAME:"SET_PRODUCT_NAME",SET_PRODUCT_PRICE:"SET_PRODUCT_PRICE",SET_TOTAL_PRICE:"SET_TOTAL_PRICE",SET_DIFF_TIME:"SET_DIFF_TIME",ADD_DISABLED_ID:"ADD_DISABLED_ID",SET_GOODS_INFO:"SET_GOODS_INFO",SET_GOODS_SELECT:"SET_GOODS_SELECT",SET_GOODS_SKU:"SET_GOODS_SKU",SET_ACTIVITIES:"SET_ACTIVITIES",ADD_ACTIVITY:"ADD_ACTIVITY",REMOVE_ACTIVITY:"REMOVE_ACTIVITY",SET_NEW_ACTIVITIES:"SET_NEW_ACTIVITIES",REMOVE_NEW_ACTIVITY:"REMOVE_NEW_ACTIVITY",SET_GOODS_NUM:"SET_GOODS_NUM",RESET_GOODS_NUM:"RESET_GOODS_NUM",INCREASE_GOODS_NUM:"INCREASE_GOODS_NUM",DECREASE_GOODS_NUM:"DECREASE_GOODS_NUM",SET_GOODS_ID:"SET_GOODS_ID",SET_CURRENT_GOODS_INFO:"SET_CURRENT_GOODS_INFO",SET_CURRENT_SPU_INFO:"SET_CURRENT_SPU_INFO",RESET_GOODS_ID:"RESET_GOODS_ID",SET_BUNDLE_ID:"SET_BUNDLE_ID",RESET_BUNDLE_ID:"RESET_BUNDLE_ID",SET_INSURANCE_ID:"SET_INSURANCE_ID",RESET_INSURANCE_ID:"RESET_INSURANCE_ID",SET_IN_EXCHANGE_SELECT:"SET_IN_EXCHANGE_SELECT",RESET_IN_EXCHANGE_SELECT:"RESET_IN_EXCHANGE_SELECT",SET_LAKU6_EXCHANGE:"SET_LAKU6_EXCHANGE",RESET_LAKU6_EXCHANGE:"RESET_LAKU6_EXCHANGE",SET_IN_EXCHANGE:"SET_IN_EXCHANGE",SET_PREORDER_TIME_TO_BUY:"SET_PREORDER_TIME_TO_BUY",PIN_CODE:"PIN_CODE",OPT_IN_TRADE_IN:"OPT_IN_TRADE_IN",OPT_OUT_TRADE_IN:"OPT_OUT_TRADE_IN",SET_WEU_TRADE_IN_INFO:"SET_WEU_TRADE_IN_INFO",RESET_WEU_TRADE_IN_INFO:"RESET_WEU_TRADE_IN_INFO",SET_IN_EXCHANGE_SELECT_BRAND_NAME:"SET_IN_EXCHANGE_SELECT_BRAND_NAME",SET_IN_EXCHANGE_SELECT_MODEL_NAME:"SET_IN_EXCHANGE_SELECT_MODEL_NAME",SET_BUY_TOGETHER_ID_MAP:"SET_BUY_TOGETHER_ID_MAP",SET_AFTER_SALE_RANK:"SET_AFTER_SALE_RANK",SET_TRADE_IN_SELECTED:"SET_TRADE_IN_SELECTED",SET_IS_NOTIFIED:"SET_IS_NOTIFIED",SET_IS_RESERVATION_BUY_CHECKED:"SET_IS_RESERVATION_BUY_CHECKED",SET_GET_ACTIVITY_DATA_SUCCESS:"SET_GET_ACTIVITY_DATA_SUCCESS",SET_MATCH_CURRENT_SKU:"SET_MATCH_CURRENT_SKU",SET_CURRENT_INSTALLATION_IDS:"SET_CURRENT_INSTALLATION_IDS"};function m(e,t){switch(t.type){case s.OPEN_SKU_PANEL:return i(o({},e),{isSkuPanelShow:!0});case s.CLOSE_SKU_PANEL:return i(o({},e),{isSkuPanelShow:!1});case s.SHOW_COUNT_DOWN:return i(o({},e),{isCountDownShow:!0});case s.HIDE_COUNT_DOWN:return i(o({},e),{isCountDownShow:!1});case s.ACTIVE_ALWAYS_NEXT:return i(o({},e),{isAlwaysNextActive:!0});case s.RESET_ALWAYS_NEXT:return i(o({},e),{isAlwaysNextActive:!1});case s.SET_PRODUCT_NAME:return i(o({},e),{productName:String(t.payload||"")});case s.SET_PRODUCT_PRICE:return i(o({},e),{productPrice:Number(t.payload||0)});case s.SET_TOTAL_PRICE:return i(o({},e),{totalPrice:Number(t.payload||0)});case s.SET_DIFF_TIME:return i(o({},e),{bigTapDiffTime:Number(t.payload||0)});case s.ADD_DISABLED_ID:return i(o({},e),{bigTapDisabledIds:c(new Set(c(e.bigTapDisabledIds).concat([Number(t.payload||0)])))});case s.SET_GOODS_INFO:return i(o({},e),{goodsInfoActivityList:Array.from(t.payload||[])});case s.SET_GOODS_SKU:return i(o({},e),{goodsIdSkuInfoList:Array.from(t.payload||[])});case s.SET_ACTIVITIES:return i(o({},e),{currentActivityMap:o({},t.payload)});case s.REMOVE_ACTIVITY:var n,r=o({},e.currentActivityMap);return r[t.payload.currentGoodsId][t.payload.eventName]=(null===(n=r[t.payload.currentGoodsId][t.payload.eventName])||void 0===n?void 0:n.filter(function(e){return e!==t.payload.eventId}))||[],i(o({},e),{currentActivityMap:o({},r)});case s.SET_NEW_ACTIVITIES:var a={dailyPicksIds:Array.from(new Set(t.payload.dailyPicksIds)),reservationIds:Array.from(new Set(t.payload.reservationIds))};return i(o({},e),{newActivityMap:o({},a)});case s.REMOVE_NEW_ACTIVITY:var l=o({},e.newActivityMap),d=t.payload.eventName;return l[d]=l[d].filter(function(e){return e!==t.payload.eventId}),i(o({},e),{newActivityMap:o({},l)});case s.SET_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(t.payload||1)});case s.RESET_GOODS_NUM:return i(o({},e),{currentGoodsNum:1});case s.INCREASE_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(e.currentGoodsNum||1)+Number(t.payload||1)});case s.DECREASE_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(e.currentGoodsNum||2)-Number(t.payload||1)});case s.SET_GOODS_ID:return i(o({},e),{currentGoodsId:Number(t.payload||0)});case s.SET_CURRENT_GOODS_INFO:return i(o({},e),{currentGoodsInfo:t.payload||null});case s.SET_CURRENT_SPU_INFO:return i(o({},e),{currentSpuInfo:t.payload||null});case s.SET_GOODS_SELECT:return i(o({},e),{currentGoodsSelect:e.currentGoodsSelect+1});case s.RESET_GOODS_ID:return i(o({},e),{currentGoodsId:0});case s.SET_BUNDLE_ID:var m=c(e.currentBundleIds);return m[Number(t.payload.sortIndex||0)]=[Number(t.payload.bundleId||0),Number(t.payload.accessoryId||0)],i(o({},e),{currentBundleIds:c(m)});case s.RESET_BUNDLE_ID:return i(o({},e),{currentBundleIds:[[0,0]]});case s.SET_INSURANCE_ID:var f=c(e.currentInsuranceIds);return t.payload.insuranceIds?f=c(t.payload.insuranceIds):f[Number(t.payload.groupIndex||0)]=Number(t.payload.insuranceId||0),i(o({},e),{currentInsuranceIds:c(f)});case s.RESET_INSURANCE_ID:return i(o({},e),{currentInsuranceIds:[0]});case s.SET_LAKU6_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{idTradeInInfo:i(o({},t.payload),{laku6ExchangeActive:!0})})});case s.RESET_LAKU6_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{idTradeInInfo:{laku6ExchangeActive:!1,laku6ExchangeImei:"",laku6ExchangeModel:"",laku6ExchangeAmount:0}})});case s.SET_IN_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:o({},e.miExchange.inMiExchangeInfo,t.payload)})});case s.SET_IN_EXCHANGE_SELECT_BRAND_NAME:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:i(o({},e.miExchange.inMiExchangeInfo),{selectBrandName:t.payload||""})})});case s.SET_IN_EXCHANGE_SELECT_MODEL_NAME:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:i(o({},e.miExchange.inMiExchangeInfo),{selectModelName:t.payload||""})})});case s.SET_PREORDER_TIME_TO_BUY:return i(o({},e),{isPreOrderTimeToBuy:!0});case s.PIN_CODE:return i(o({},e),{pinCode:t.payload||""});case s.OPT_IN_TRADE_IN:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!0})})});case s.OPT_OUT_TRADE_IN:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!1})})});case s.SET_WEU_TRADE_IN_INFO:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:o({bonusValue:e.bonusValue,bonusLabel:e.bonusLabel,tradeInWeuOfferedPrice:e.tradeInWeuOfferedPrice},e.miExchange.weuTradeInInfo,t.payload)})});case s.RESET_WEU_TRADE_IN_INFO:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},u),{isOptInTradeIn:e.miExchange.weuTradeInInfo.isOptInTradeIn})})});case s.SET_BUY_TOGETHER_ID_MAP:return i(o({},e),{buyTogetherIdMap:t.payload});case s.SET_AFTER_SALE_RANK:return i(o({},e),{afterSaleRankData:t.payload});case s.SET_TRADE_IN_SELECTED:return i(o({},e),{tradeInSelected:t.payload});case s.SET_IS_NOTIFIED:return i(o({},e),{isNotified:t.payload});case s.SET_IS_RESERVATION_BUY_CHECKED:return i(o({},e),{isReservationBuyChecked:t.payload});case s.SET_GET_ACTIVITY_DATA_SUCCESS:return i(o({},e),{getActivityDataSuccess:!0});case s.SET_MATCH_CURRENT_SKU:return i(o({},e),{matchCurrentSku:!0});case s.SET_CURRENT_INSTALLATION_IDS:return i(o({},e),{currentInstallationIds:t.payload||[]});default:return e}}var f=(0,r.createContext)({state:d,dispatch:function(e){}});function v(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(m,d))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=n[0],o=n[1];return r.createElement(f.Provider,{value:{state:a,dispatch:o}},e.children)}},22151:function(e,t,n){n.d(t,{T:()=>J,P:()=>en});var r,a,o,i,c=n(67294),l=n(21245),u=n(79894);let d=function(e){var t=e.title,n=e.subTitle,r=e.children,a=e.titleExtra,o=e.sectionId;return c.createElement("section",{id:o,className:"activity-modal__section"},c.createElement("div",{className:"activity-modal__section-header"},c.createElement("div",{className:"activity-modal__section-title-wrapper"},c.createElement("div",{className:"activity-modal__section-title"},t),a&&c.createElement("div",{className:"activity-modal__section-extra"},a)),n&&c.createElement("div",{className:"activity-modal__section-sub-title"},n)),r)};var s=n(25185),m=n(77588),f=n(70126),v=n(71766),p=n(31066),y=n(20882),E=n(48597),_=n(27484),b=n.n(_),g=n(70178),S=n(29387);let h=function(e){var t=e.startTime,n=e.endTime,r=e.format,a=e.showIcon,o=e.prefix,i=e.className;b().extend(g),b().extend(S);var l=(0,E.oW)(),u=b()(1e3*t).tz(l.dayjsTimezone),d=b()(1e3*n).tz(l.dayjsTimezone),s=u.year()===d.year(),m=r||(s?l.dateTimeFormatNoYearSecond:l.dateTimeFormatNoSecond);return c.createElement("div",{className:"activity-modal__effective-time-display ".concat(i)},o,void 0!==a&&a&&c.createElement(f.E,{pictureClassName:"activity-modal__effective-time-icon",srcSet:{widescreen:"https://i02.appmifile.com/webfile/globalimg/global/buy-product-time-icon.png"},alt:"","aria-hidden":"true"}),c.createElement("span",null,u.format(m)),c.createElement("span",null," - "),c.createElement("span",null,d.format(m)))};var N=n(19050),I=n(25228),T=n(86690),O=n(65609),A=n(54854),C=n(94184),w=n.n(C);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j={COLLECTED:0,CONFIRM_REDEEM:1,ACTIVITY_REDEEM:2};let M=function(e){var t,n,r=e.coupon,a=(0,E.YB)(),o=(0,E.oW)(),i="mobile"===(0,I.ag)(),d=i?"m":"pc",_=(0,c.useContext)(N.N),b=(0,c.useRef)(),g=R((0,c.useState)({}),2),S=g[0],C=g[1],D=R((0,c.useState)(!1),2),M=D[0],L=D[1],P=R((0,c.useState)(""),2),U=P[0],G=P[1],F=R((0,c.useState)(!1),2),B=F[0],V=F[1],K=R((0,c.useState)({}),2),W=K[0],H=K[1],Y=R((0,c.useState)(!1),2),X=Y[0],z=Y[1],q=(0,c.useMemo)(function(){return[360001,360002]},[]);(0,c.useEffect)(function(){(0,T.otExpose)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Coupon",elementName:"activity_pop_up",buttonName:r.couponName,isOpenGA:!0})},[]),(0,c.useEffect)(function(){if(r){var e,t;C(r),H((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},r),t=t={couponId:String(r.couponId),valueDesc:r.couponValueDesc,couponNameDesc:r.couponName,rangeShortDesc:r.couponRangeDesc},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}},[r]);var $=function(){if((0,T.otClick)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16719},elementName:"activity_pop_up",elementTitle:"Coupon",buttonName:S.couponName,isOpenGA:!0}),(0,O.Jb)()){var e;(null==W?void 0:null===(e=W.couponReceiveExtendInfo)||void 0===e?void 0:e.isRiskCheck)&&!(null==b?void 0:b.current)?V(!0):L(!0)}else(0,O.XR)({siteConfig:o})},Z=(0,A.N)(function(e,t){if((0,T.otClick)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16719},elementName:"activity_pop_up",elementTitle:"Coupon",buttonName:S.couponName,isOpenGA:!0}),e.couponReceiveExtendInfo.isRiskCheck&&!t)V(!0);else{var n;_.getService({params:{act_no:null==e?void 0:null===(n=e.couponReceiveExtendInfo)||void 0===n?void 0:n.actNo,coupon_type_id:W.typeId,g_token:t||""}},function(e){0===e.errNo?(G(a.get("23ab904dc42e01b7e3682ddc3531b6ea")),C(k(x({},S),{couponReceiveType:j.COLLECTED}))):q.includes(e.errNo)?V(!0):G(e.errMsg)})}},300),J=function(e){b.current=e,e&&V(!1),W.endTime<new Date().getTime()/1e3&&G(a.get("eaad5f344da3b7674d4ad536f4a8fd20")),W.couponReceiveType===j.CONFIRM_REDEEM?L(!0):W.couponReceiveType===j.ACTIVITY_REDEEM&&Z(W,e)};return c.createElement("div",{className:"activity-modal__coupon-card"},c.createElement("section",{className:"activity-modal__coupon-card-content"},c.createElement("div",{className:"activity-modal__coupon-card-reduce-amount"},S.couponValueDesc),c.createElement("div",{className:"activity-modal__coupon-card-info"},c.createElement("p",{className:"activity-modal__coupon-card-value"},S.couponName),1===S.validType?c.createElement("p",{className:"activity-modal__coupon-card-time"},a.get("7dbdf72e14dc4e45eda2de1fcf632fef"),a.get("d7dd33406fe94fc18c102ac0888f9dd7",{n:S.validDays})):c.createElement(h,{className:"activity-modal__coupon-card-time",prefix:a.get("7dbdf72e14dc4e45eda2de1fcf632fef"),showIcon:!1,startTime:S.startTime,endTime:S.endTime}),!!S.couponRangeDesc&&c.createElement("p",{className:"activity-modal__coupon-card-description"},c.createElement("span",null,S.couponRangeDesc),c.createElement("div",{className:"activity-card__item-desc-icon activity-modal__coupon-card--detail"},c.createElement(s.q,{symbol:"warning",role:"button",tabIndex:0,onClick:function(){return i&&z(!0)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"aria-label":a.get("3ec365dd533ddb7ef3d1c111186ce872")}),c.createElement("div",{className:"activity-card__item-desc-modal"},c.createElement("p",null,S.couponRangeDesc))),c.createElement(m.J,{content:c.createElement(c.Fragment,null,S.couponRangeDesc,c.createElement("div",{className:"activity-modal__coupon-link"},c.createElement("a",{href:"".concat(o.wwwSite[d],"/use-now/?sceneId=").concat(S.typeId,"&scene=couponTypeID")},a.get("0b06b576d011cc86804a26100cecb33f")))),portalClassName:"activity-modal__coupon-card--details-pop",className:w()("activity-modal-coupon-reward-card__popover"),isClickClose:!1,isClickOpen:!1,disableEvent:!1,placement:"top"},c.createElement("div",{className:"activity-card__item-desc-icon"},c.createElement(s.q,{symbol:"warning","aria-label":a.get("3ec365dd533ddb7ef3d1c111186ce872")})))))),c.createElement("section",{className:"activity-modal__coupon-card-button-section"},function(){switch(null==S?void 0:S.couponReceiveType){case j.CONFIRM_REDEEM:var e=(null==S?void 0:S.couponReceiveExtendInfo)||{},t=e.userExchangedCount,n=e.isOutOfStock;return c.createElement(u.z,{btnType:"primary",onClick:$,disabled:n&&!(t>0)},a.get("81ed4dcb851fefbbbc791eeef4cd97a2"));case j.ACTIVITY_REDEEM:return c.createElement(u.z,{btnType:"primary",onClick:function(){return Z(W)}},a.get("e7ca851922b13f555127b04b70435ca9"));case j.COLLECTED:return c.createElement(u.z,{btnType:"primary",disabled:!0},a.get("ac5bb077c33753116b5e91ff1766e7bc"));default:return null}}(),(null==S?void 0:null===(t=S.couponReceiveExtendInfo)||void 0===t?void 0:t.tokensCost)>0&&c.createElement("div",{className:"activity-modal__coupon-card-reward"},c.createElement(f.E,{alt:a.get("3f63933ccc41ead1fe89300cd2e9fa36"),srcSet:{widescreen:"https://i02.appmifile.com/webfile/globalimg/global/buy-product-points.png"}}),a.get("c02a20a88fea948242bf5ad993c45331",{tokensCost:null==S?void 0:null===(n=S.couponReceiveExtendInfo)||void 0===n?void 0:n.tokensCost}))),c.createElement(y.f,{showCouponRedeemModal:M,setShowCouponRedeemModal:L,coupon:W,showGoogleCaptcha:B,setShowGoogleCaptcha:V,handleConfirmRedeem:function(e){_.getService({url:"".concat(o.goSite,"/tokens/reward/exchange"),params:{reward_id:e.tokensRewardId,g_token:b.current||""}},function(e){0===e.errNo?(L(!1),G(a.get("1ae108cdcf54c2e8881f5a4416e78921")),C(k(x({},S),{couponReceiveType:j.COLLECTED}))):q.includes(e.errNo)?V(!0):G(e.errMsg)})}}),c.createElement(p.S,{inertClassList:["buy-product__activity-modal"],showGoogleCaptcha:B,setShowGoogleCaptcha:V,captchaVerifiedCb:function(e){return J(e)}}),c.createElement(v.F,{msg:U,callback:function(){return G("")}}),i&&c.createElement(l.u,{inertClassList:["buy-product__activity-modal"],isModalShow:X,closeModal:function(){return z(!1)},overlayClassName:"activity-modal__coupon-desc-modal",styleMode:"drawer",useInert:!0},S.couponRangeDesc,c.createElement("div",{className:"activity-modal__coupon-link"},c.createElement("a",{href:"".concat(o.wwwSite[d],"/use-now/?sceneId=").concat(S.typeId,"&scene=couponTypeID")},a.get("0b06b576d011cc86804a26100cecb33f")))))};function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P={2:"Benefit",5:"Discount"};let U=function(e){var t,n=e.activity,r=e.extra,a=e.icon,o=e.showSubTitle,i=e.showTime,l=e.baseClassName,u=void 0===l?"":l,d=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)({}))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return L(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=d[0],m=d[1],v=s||{},p=v.startTime,y=v.endTime;return(0,c.useEffect)(function(){var e=(0,T.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".".concat(u)});return function(){e&&e.disconnect()}},[]),(0,c.useEffect)(function(){n&&m(n)},[n]),c.createElement("div",{className:"activity-modal__activity-card ".concat(u),role:"button",tabIndex:0,onClick:function(){n&&n.jumpUrl&&(window.location.href=n.jumpUrl)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:P[null==n?void 0:n.actType],elementName:"activity_pop_up",isOpenGA:!0})},c.createElement("section",{className:"activity-modal__activity-card-content"},c.createElement("div",{className:"activity-modal__activity-card-title"},s.actTitle),(void 0===o||o)&&s.actSubTitle&&c.createElement("p",{className:"activity-modal__activity-card-subtitle"},s.actSubTitle),r&&c.createElement("p",{className:"activity-modal__activity-card-extra"},r),!!(void 0===i||i)&&!!p&&!!y&&c.createElement(h,{startTime:p,endTime:y,showIcon:!0})),a&&c.createElement("section",{className:"activity-modal__activity-card-icon-section"},c.createElement(f.E,{imgClassName:"activity-modal__activity-card-icon",srcSet:{widescreen:a},alt:""})))};var G=n(91159),F=n(60744),B=n(32963);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=function(e){var t=e.bargainItem,n=(0,E.oW)(),r=!!n.originalRrpLabel,a=(0,E.YB)();return c.createElement("div",{key:t.itemId,className:"activity-modal__activity-card activity-modal__bargain-card",role:"button",tabIndex:0,onClick:function(){t.jumpUrl&&(window.location.href=t.jumpUrl)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},t.image&&c.createElement("section",{className:"activity-modal__bargain-card-icon-section"},c.createElement("img",{src:t.image,alt:String(t.itemId)})),c.createElement("section",null,c.createElement("div",{className:"activity-modal__activity-card-title",role:"button",tabIndex:0,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"aria-label":a.get("d8fd35f628f2099aeaf3e5253e4acdba")+" "+t.itemName},t.itemName),c.createElement(B.Y,{className:"activity-modal__bargain-card-energy",energyInfo:t.energyInfo,bundleLabels:t.bundleLabels}),c.createElement("p",{className:"activity-modal__activity-card-subtitle activity-modal__bargain-card-price"},c.createElement("span",null,(0,G.X)(String(t.price),n)),c.createElement("del",{className:"notranslate"},c.createElement(F.n,{salePrice:String(t.originPrice),displayType:"string",suffixConfig:{isShow:!1},translation:r?a.get("2f6b0e4e5a8011004c129ee6618ddca8"):void 0})))))};let W=function(e){var t,n,r=e.activity,a=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)({}))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return V(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],i=a[1],l=o||{},u=l.startTime,d=l.endTime;return(0,c.useEffect)(function(){var e=(0,T.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__gift-card"});return function(){e&&e.disconnect()}},[]),(0,c.useEffect)(function(){r&&i(r)},[r]),c.createElement("div",{className:"activity-modal__gift-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Gift",elementName:"activity_pop_up",isOpenGA:!0})},c.createElement("section",{className:"activity-modal__gift-card-header"},c.createElement("div",{className:"activity-modal__gift-card-title"},r.actTitle),c.createElement("span",{className:"activity-modal__gift-card-subtitle hint-text"},r.actSubTitle)),null==o?void 0:null===(n=o.bargainItems)||void 0===n?void 0:n.map(function(e){return c.createElement(K,{key:e.itemId,bargainItem:e})}),u&&d&&c.createElement(h,{startTime:u,endTime:d,showIcon:!0}))};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={SINGLE:"SINGLE",DOUBLE:"DOUBLE"},X=(H(a={},Y.SINGLE,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-points.png"),H(a,Y.DOUBLE,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-double-points.png"),a);let z=function(e){var t=e.activity,n=e.pointsType,r=void 0===n?Y.SINGLE:n,a=e.tokens,o=(0,E.YB)();return(0,c.useEffect)(function(){var e=(0,T.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__points-card"});return function(){e&&e.disconnect()}},[]),c.createElement("div",{className:"activity-modal__activity-card activity-modal__points-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:t?"Double Mi Points":"Mi Points",elementName:"activity_pop_up",isOpenGA:!0})},c.createElement("section",{className:"activity-modal__activity-card-content"},c.createElement("div",{className:"activity-modal__activity-card-title"},o.get("1fde791acc0138db2da324374edc3a8d",{tokens:a})),c.createElement("p",{className:"activity-modal__activity-card-subtitle"},o.get("f5c9e1c17576101cc2c0424650d02b23"))),X[r]&&c.createElement("section",{className:"activity-modal__activity-card-icon-section"},c.createElement(f.E,{imgClassName:"activity-modal__activity-card-icon",srcSet:{widescreen:X[r]},alt:""})))},q=function(e){var t,n,r,a=e.couponReward,o=void 0===a?{}:a,i=e.icon,l=(o||{}).couponValueDesc,u=(0,E.YB)(),d=(0,E.oW)(),v="mobile"===(0,I.ag)()?"m":"pc";return(0,c.useEffect)(function(){var e=(0,T.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__coupon-reward-card"});return function(){e&&e.disconnect()}},[]),c.createElement(c.Fragment,null,c.createElement("div",{className:"activity-modal__coupon-reward-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Coupon Reward",elementName:"activity_pop_up",buttonName:o.couponName,isOpenGA:!0})},c.createElement("section",{className:"activity-modal__coupon-reward-card-content"},c.createElement("div",{className:"activity-modal__coupon-reward-card-title"},l),c.createElement("div",{className:"activity-modal__coupon-reward-card-subtitle"},o.couponName),(null==o?void 0:null===(t=o.couponRewardsExtend)||void 0===t?void 0:t.couponValidity)&&c.createElement("div",{className:"activity-modal__coupon-reward-card-extra activity-modal__coupon-reward-card-extra-first",dangerouslySetInnerHTML:{__html:null==o?void 0:null===(n=o.couponRewardsExtend)||void 0===n?void 0:n.couponValidity}}),c.createElement("div",{className:"activity-modal__coupon-reward-card-extra"},!!o.couponRangeDesc&&c.createElement("div",{className:"activity-modal__coupon-reward-card-range"},c.createElement("div",{className:"activity-modal__coupon-reward-card-desc"},o.couponRangeDesc),c.createElement(m.J,{content:c.createElement(c.Fragment,null,o.couponRangeDesc,c.createElement("div",{className:"activity-modal__coupon-link"},c.createElement("a",{href:"".concat(d.wwwSite[v],"/use-now/?sceneId=").concat(o.typeId,"&scene=couponTypeID")},u.get("0b06b576d011cc86804a26100cecb33f")))),className:w()("activity-modal-coupon-reward-card__popover"),isClickClose:!1,isClickOpen:!1,disableEvent:!1,placement:"top"},c.createElement("div",{className:"activity-card__item-desc-icon"},c.createElement(s.q,{symbol:"warning","aria-label":o.couponRangeDesc})))))),i&&c.createElement("section",{className:"activity-modal__coupon-reward-card-icon-section"},c.createElement(f.E,{imgClassName:"activity-modal__coupon-reward-card-icon",srcSet:{widescreen:i},alt:""}))),c.createElement("div",{className:"hint-text"},u.get("eaeb72d30cf230a8bd67ef90112aa3ac",{text:null==o?void 0:null===(r=o.couponRewardsExtend)||void 0===r?void 0:r.applicableGoods})))};function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=((r={})[r.DoublePoints=1]="DoublePoints",r[r.Benefit=2]="Benefit",r[r.PreSale=3]="PreSale",r[r.OverSale=4]="OverSale",r[r.Discount=5]="Discount",r[r.Gift=6]="Gift",r[r.BuyTogether=7]="BuyTogether",r[r.FreeShipping=8]="FreeShipping",r[r.CouponReward=9]="CouponReward",r[r.DailyPicks=10]="DailyPicks",r),Q=(Z(o={},1,"acitvityModalDiscount"),Z(o,2,"acitvityModalCoupon"),Z(o,3,"acitvityModalGift"),Z(o,4,"acitvityModalBenifit"),Z(o,5,"acitvityModalPoints"),Z(o,6,"acitvityModalReward"),o),ee=(Z(i={},5,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-discount-new.png"),Z(i,9,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-coupon-reward-new.png"),i);function et(e,t){return e&&e.length&&t?e.filter(function(e){return e.actType===t}):[]}function en(e){var t,n,r,a,o,i=e.visible,s=e.currentSkuActivity,m=e.closeModal,f=e.activityTagRef,v=(null==f?void 0:f.current)||{},p=function(e){if(Array.isArray(e))return e}(t=(0,c.useMemo)(function(){var e=et(null==s?void 0:s.actList,1);return e.length>0?[Y.DOUBLE,e]:[Y.SINGLE,[]]},[s]))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return $(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],_=p[1],b=(0,E.YB)(),g=(0,I.ag)(),S=(0,E.oW)(),N="mobile"===g;(0,c.useEffect)(function(){i&&v&&v.type&&setTimeout(function(){var e=v.type,t=document.getElementById(Q[e]);if(t){t.scrollIntoView({behavior:"smooth",block:"start"});var n=t.querySelector(".activity-modal__section-title");n&&n.focus()}},0)},[i]);var T=et(null==s?void 0:s.actList,5),O=et(null==s?void 0:s.actList,6),A=et(null==s?void 0:s.actList,2),C=null==s?void 0:null===(n=s.preSaleInfo)||void 0===n?void 0:n.isPreHeat,w=null==s?void 0:null===(r=s.preSaleInfo)||void 0===r?void 0:r.isDeposit;return c.createElement(l.u,{isModalShow:i,extraClassName:"buy-product__activity-modal",closeModal:m,title:b.get("1fa2238292fd46eb3e06b8ce6c9dec8c"),styleMode:"drawer",titleLayOut:"left",isShowCloseIcon:!0,useInert:!0,subtitle:b.get("ceca39076399591eaa1fe2925272488a")},!!O&&O.length>0&&c.createElement(d,{sectionId:Q[3],title:b.get("0d9175fe89fb80d815e7d03698b6e83a")},O.map(function(e){return c.createElement(W,{key:e.actId,activity:e})})),!!(null==s?void 0:s.coupons)&&(null==s?void 0:s.coupons.length)>0&&c.createElement(d,{sectionId:Q[2],title:b.get("adb6e651c47c732f9af50ae33748feaa"),subTitle:C||w?b.get("b283b1380bca820c810fb04f58522a79"):null},null==s?void 0:null===(a=s.coupons)||void 0===a?void 0:a.map(function(e){var t;return c.createElement(M,{key:"".concat(e.typeId,"-").concat(e.couponId,"-").concat(null==e?void 0:null===(t=e.couponReceiveExtendInfo)||void 0===t?void 0:t.rewardId),coupon:e})})),!!T&&T.length>0&&c.createElement(d,{sectionId:Q[1],title:b.get("104d9898c04874d0fbac36e125fa1369"),subTitle:C||w?b.get("ed9543df0f101189e490796d0e335c78"):null},T.map(function(e){var t,n,r;return c.createElement(U,{baseClassName:"discount-card",key:e.actId,activity:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Z(e,t,n[t])})}return e}({},e),r=r={actTitle:Array.isArray(null==e?void 0:e.discountCond)?null==e?void 0:null===(t=e.discountCond)||void 0===t?void 0:t.reduce(function(e,t,n){var r=t.condDesc;return n>0?"".concat(e," | ").concat(r):r},""):""},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n),showSubTitle:!1,icon:ee[5]})})),!!A&&A.length>0&&c.createElement(d,{sectionId:Q[4],title:b.get("9f526bb7e30e2aa6bc7b7bdeadfff1f6")},A.map(function(e){return c.createElement(c.Fragment,null,c.createElement(U,{baseClassName:"benefit-card",key:e.actId,activity:e,icon:e.actIcon,showTime:!1}),e.startTime&&e.endTime&&c.createElement(h,{startTime:e.startTime,endTime:e.endTime,showIcon:!0}))})),!!s.tokens&&s.tokens>0&&c.createElement(d,{sectionId:Q[5],title:y===Y.SINGLE?b.get("c90ab3517ee217a5c43d7eb349a826a6"):b.get("4830efdf99796b568d6732629a51fe02")},y===Y.DOUBLE?_.map(function(e){return c.createElement(z,{tokens:s.tokens,key:e.actId,activity:e,pointsType:y})}):c.createElement(z,{key:"discount_card",tokens:s.tokens,pointsType:y})),!!(null==s?void 0:s.couponRewards)&&(null==s?void 0:s.couponRewards.length)>0&&c.createElement(d,{sectionId:Q[6],title:b.get("8cfc16e55decdf8c34a7da11df2eefe9"),subTitle:b.get("1116427b8a9c8457b561950ea9b5ccec"),titleExtra:c.createElement(u.z,{btnType:N?"default-link":"link-default",href:"".concat(N?S.wwwSite.m:S.wwwSite.pc,"/support/terms/coupon-reward-rules/"),className:"hint-text",withArrow:"enable"},b.get("9afe23252f2ce3fd238ad7c0e00fc942"))},null==s?void 0:null===(o=s.couponRewards)||void 0===o?void 0:o.map(function(e){return c.createElement(q,{key:e.couponId,couponReward:e,icon:ee[9]})})))}},37317:function(e,t,n){n.d(t,{I:()=>a});var r=n(67294),a=function(e){var t=e.activityList,n=e.activityMap,a=e.goodsId;return(0,r.useMemo)(function(){var e,r,o,i,c,l,u=null==t?void 0:null===(r=t[a])||void 0===r?void 0:null===(e=r.actList)||void 0===e?void 0:e.find(function(e){return 4===e.actType}),d=null==t?void 0:null===(i=t[a])||void 0===i?void 0:null===(o=i.actList)||void 0===o?void 0:o.find(function(e){return 3===e.actType&&n.reservationIds.includes(e.actNo)});if(d&&Object.keys(d||{}).length)return{skuActivityType:3,preSaleData:u,activityInfo:d};var s=null==t?void 0:null===(l=t[a])||void 0===l?void 0:null===(c=l.actList)||void 0===c?void 0:c.find(function(e){return 10===e.actType&&n.dailyPicksIds.includes(e.actNo)});return s&&Object.keys(s||{}).length?{skuActivityType:1,preSaleData:u,activityInfo:s}:{skuActivityType:0,preSaleData:u}},[t,n,a])}},20882:function(e,t,n){n.d(t,{f:()=>l});var r=n(67294),a=n(48597),o=n(78202),i=n(21245),c=n(40515);function l(e){var t,n,l,u,d,s,m=(0,a.YB)(),f=(0,a.oW)(),v=e.showCouponRedeemModal,p=e.setShowCouponRedeemModal,y=e.coupon,E=e.handleConfirmRedeem;return r.useEffect(function(){var t,n,r,a;return v?(null==e?void 0:e.showGoogleCaptcha)&&(null===(t=document.querySelector(".points-redemption-modal"))||void 0===t||t.setAttribute("inert",""),null===(n=document.querySelector(".coupons-drawer"))||void 0===n||n.setAttribute("inert","")):(null===(r=document.querySelector(".points-redemption-modal"))||void 0===r||r.removeAttribute("inert"),null===(a=document.querySelector(".coupons-drawer"))||void 0===a||a.removeAttribute("inert")),function(){var e,t;null===(e=document.querySelector(".points-redemption-modal"))||void 0===e||e.removeAttribute("inert"),null===(t=document.querySelector(".coupons-drawer"))||void 0===t||t.removeAttribute("inert")}},[v,e.showGoogleCaptcha]),r.createElement(i.u,{extraClassName:"points-redemption-modal",isShowCloseIcon:!0,isModalShow:v,closeModal:function(){p(!1)},title:m.get("132bc5e7c01925404a8a940be39dc837",{value:null===(t=y.couponReceiveExtendInfo)||void 0===t?void 0:t.tokensCost}),titleLayOut:"left",confirmText:m.get("81ed4dcb851fefbbbc791eeef4cd97a2"),confirm:function(){return E(null==y?void 0:y.couponReceiveExtendInfo)},footnote:r.createElement("span",{className:"points-redemption__tip"},m.get("b4849b3f3e8fd4411c34ece95cdf9363")),useInert:!0},r.createElement("div",{className:"points-redemption__content",tabIndex:-1},r.createElement("div",{className:"points-redemption__points"},!!(null===(n=y.couponReceiveExtendInfo)||void 0===n?void 0:n.tokensOwn)&&r.createElement(c.b,{inputStr:m.get("9b223cd3b6b0f83ccb23feee55e19afd",{balance:"#@@#".concat(null===(l=y.couponReceiveExtendInfo)||void 0===l?void 0:l.tokensOwn,"#@@#")})})),r.createElement("div",{className:"points-redemption__flow"},r.createElement("img",{className:"points-redemption__point-image",src:"https://i02.appmifile.com/6_operatorx_operatorx_xm/22/01/2024/916fa14921b60c907cf59bbaaabb195f.svg",alt:"point"}),r.createElement("div",{className:"points-redemption__spend-point"},r.createElement("span",{className:"points-redemption__num"},null===(u=y.couponReceiveExtendInfo)||void 0===u?void 0:u.tokensCost),r.createElement("span",{className:"points-redemption__text"},m.get("3efc37de533d6a03e83dd3cc7f74ca0f"))),r.createElement("img",{className:"points-redemption__right-arrow",src:"https://i02.appmifile.com/207_operatorx_operatorx_xm/22/01/2024/66572477b0433fcc7b6a9eeb6dc8a0e0.svg",alt:"right arrow"}),r.createElement("div",{className:"points-redemption__coupon"},r.createElement("div",{className:"points-redemption__coupon-price"},y.valueDesc),r.createElement("div",{className:"points-redemption__coupon-split"}),r.createElement("div",{className:"points-redemption__coupon-title"},m.get("adb6e651c47c732f9af50ae33748feaa")))),r.createElement("span",{className:"points-redemption__validity"},(null===(d=y.couponReceiveExtendInfo)||void 0===d?void 0:d.tokensExchangeValidDays)?m.get("87e9ee269b4d3cbf7727ce4f37011e40",{n:null===(s=y.couponReceiveExtendInfo)||void 0===s?void 0:s.tokensExchangeValidDays}):m.get("12996ca77f14b9c3edee57c292df084d",{startTime:(0,o.vc)(1e3*Number(y.startTime),f.dateTimeFormat,f.dayjsTimezone),endTime:(0,o.vc)(1e3*Number(y.endTime),f.dateTimeFormat,f.dayjsTimezone)})),y.rangeShortDesc&&r.createElement("span",{className:"points-redemption__rule"},m.get("fca78f1635551e596effa07cf672ada7",{rules:y.rangeShortDesc}))))}},63492:function(e,t,n){n.d(t,{w:()=>S});var r=n(67294),a=n(52972),o=n(90043),i=n(73444),c=n(96494),l=n(122),u=n(75635),d=n(97043),s=n(94184),m=n.n(s),f=n(71083),v=n(65609),p=n(48597),y=n(86690),E=n(87438);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t,n=e.isModalShow,s=e.setIsModalShow,_=e.userLocation,S=e.setUserLocation,h=e.location,N=e.setLocation,I=e.deliveryMethod,T=e.setDeliveryMethod,O=e.deliveryType,A=void 0===O?E.lF.NORMAL:O,C=!!(0,v.Nr)(),w=(0,p.YB)(),D=g((0,r.useState)(!1),2),x=D[0],k=D[1],R=g((0,r.useState)(!1),2),j=R[0],M=R[1],L=g((0,r.useState)([]),2),P=L[0],U=L[1],G=g((0,r.useState)(),2),F=G[0],B=G[1],V=g((0,r.useState)(!1),2),K=V[0],W=V[1],H=g((0,r.useState)([]),2),Y=H[0],X=H[1],z=g((0,r.useState)(),2),q=z[0],$=z[1],Z=g((0,r.useState)(!1),2),J=Z[0],Q=Z[1],ee=g((0,r.useState)([]),2),et=ee[0],en=ee[1],er=g((0,r.useState)(),2),ea=er[0],eo=er[1],ei=g((0,r.useState)(!1),2),ec=ei[0],el=ei[1],eu=g((0,r.useState)([]),2),ed=eu[0],es=eu[1],em=g((0,r.useState)(),2),ef=em[0],ev=em[1],ep=g((0,r.useState)(!1),2),ey=ep[0],eE=ep[1],e_=g((0,r.useState)(),2),eb=e_[0],eg=e_[1],eS=g((0,r.useState)(),2),eh=eS[0],eN=eS[1],eI=g((0,r.useState)([]),2),eT=eI[0],eO=eI[1],eA=(0,r.useContext)(l.XK),eC=(0,r.useContext)(u.Kc),ew=(0,r.useContext)(d.f6),eD=(0,r.useContext)(f.k6).state.currentGoodsInfo,ex=(0,r.useCallback)(function(e,t){switch(e){case"first":W(t),Q(t),el(t),eE(t);break;case"second":Q(t),el(t),eE(t);break;case"third":el(t),eE(t);break;case"fourth":eE(t)}},[]),ek=(0,r.useCallback)(function(e){eO((0,E.jK)(e,A))},[A]),eR=(0,r.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r={};t&&(r.parent_id=t),ex(e,!0),eA.getService({params:r},function(r){if(ex(e,!1),(null==r?void 0:r.errNo)===0){var a=r.data.regions.map(function(e){return{value:e.value,label:e.label}});switch(e){case"first":U(a);break;case"second":B(t),X(a),n&&($(void 0),en([]),eo(void 0),es([]),ev(void 0));break;case"third":$(t),en(a),n&&(eo(void 0),es([]),ev(void 0));break;case"fourth":eo(t),es(a),n&&ev(void 0)}}})},[eA.getService]),ej=(0,r.useCallback)(function(e){M(!1),eR("second",e)},[F]),eM=(0,r.useCallback)(function(e){M(!1),eR("third",e)},[q]),eL=(0,r.useCallback)(function(e){M(!1),eR("fourth",e)},[ea]),eP=(0,r.useCallback)(function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(ev(e),t){M(!1),eO([]);var n={area_id:e,item_id:null==eD?void 0:eD.itemId,item_sales_price:null==eD?void 0:eD.price};eC.getService({params:n},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,r=t.location,o=t.address;r.name&&eN({province:o.province.value,city:o.city.value,district:o.district.value,area:o.area.value}),ek(n),M(!0),eg(r)}else{var i=w.get((null==e?void 0:e.errMsg)||"");a.Z.text(i)}})}else M(!0),ek(I)},[ef,eD,ek]),eU=(0,r.useCallback)(function(){var e=(0,E.$K)(A,E.LW.CONFIRM_CLICK);e&&(0,y.otClick)(e),x?ew.getService({params:{area_id:ef}},function(e){if((null==e?void 0:e.errNo)!==0){var t=w.get((null==e?void 0:e.errMsg)||"");a.Z.text(t)}else S(eh),T(eT),N(eb),s(!n)}):(S(eh),T(eT),N(eb),s(!n))},[x,ef,eb,eT,n,eh]);(0,r.useEffect)(function(){var e=(0,E.$K)(A,E.LW.CONFIRM_EXPOSE);e&&(0,y.otExpose)(e),eR("first"),_&&I&&(eN(_),eR("second",_.province,!1),eR("third",_.city,!1),eR("fourth",_.district,!1),eP(_.area,!0)),h&&eg(h)},[ek]);var eG=(0,r.useCallback)(function(){var e=(0,E.$K)(A,E.LW.SAVE_LOCATION_CLICK);e&&(0,y.otClick)(e),k(!x)},[x]),eF="address-model";return r.createElement("div",{className:"address-model"},r.createElement("div",{className:m()(["".concat(eF,"-content-title")])},w.get("17ad4b7f4d105ac1ab5723a7d7b035fe")),r.createElement("div",{className:m()(["".concat(eF,"-content-header")])},r.createElement("div",{className:m()(["".concat(eF,"-content-header-top")])},r.createElement(o.P,{type:"single",options:P||[],className:m()(["".concat(eF,"-address-select-first"),"".concat(eF,"-address-select")]),onChange:ej,value:K?void 0:F,placeholder:w.get("c6b5d0bb9a0c3f077863fdaef9773f7c"),loading:K}),r.createElement(o.P,{type:"single",options:Y||[],className:m()(["".concat(eF,"-address-select-second"),"".concat(eF,"-address-select")]),onChange:eM,value:J?void 0:q,placeholder:w.get("57d056ed0984166336b7879c2af3657f"),loading:J}),r.createElement(o.P,{type:"single",options:et||[],className:m()(["".concat(eF,"-address-select-third"),"".concat(eF,"-address-select")]),placeholder:w.get("e0bb2f66e5b61be3235bf8969979de19"),onChange:eL,value:ec?void 0:ea,loading:ec}),r.createElement(o.P,{type:"single",options:ed||[],className:m()(["".concat(eF,"-address-select-fourth"),"".concat(eF,"-address-select")]),onChange:function(e){return eP(e)},value:ey?void 0:ef,placeholder:w.get("d61ebdd8a0c0cd57c22455e9f0918c65"),loading:ey})),C&&r.createElement(i.Z,{checked:x,onChange:eG,className:m()(["".concat(eF,"-content-header-checkbox")])},r.createElement("div",{className:m()(["".concat(eF,"-content-header-checkbox-children")])},w.get("aba505f17841d128c393f8e9c1557fb1")))),"loading"===eC.ajaxStatus?r.createElement(c.a,{type:"inner"}):!!eT.length&&r.createElement("div",{className:m()(["".concat(eF,"-content-middle")])},A!==E.lF.INSTALLATION&&r.createElement("div",{className:m()(["".concat(eF,"-content-middle-title")])},w.get("a930a39f7493653ddc34fee09630378d"),r.createElement("br",null),r.createElement("span",{className:m()(["".concat(eF,"-content-middle-title-color")])},w.get("f65d573c9df8673c796aceb55ff3d046"))),r.createElement("div",{className:m()(["".concat(eF,"-content-middle-contain")])},eT.map(function(e,t){var n;return r.createElement("div",{key:t,className:m()((b(n={},"".concat(eF,"-content-middle-item"),!0),b(n,"".concat(eF,"-content-middle-last-item"),t===eT.length-1),n))},r.createElement("div",{className:m()(["".concat(eF,"-content-middle-item-top")])},e.name&&r.createElement("div",{className:m()(["".concat(eF,"-content-middle-item-name")])},e.name),e.priceDesc&&r.createElement("div",{className:m()(b({},"".concat(eF,"-content-middle-item-price"),!0))},e.priceDesc)))}))),r.createElement("div",{className:m()(b({},"".concat(eF,"-content-bottom"),!0))},r.createElement("div",{className:m()((b(t={},"".concat(eF,"-content-bottom-confirm"),!0),b(t,"".concat(eF,"-content-bottom-confirmed"),j),t)),role:"button",tabIndex:0,onClick:eU},w.get("70d9be9b139893aa6c69b5e77e614311"))))}},38085:function(e,t,n){n.d(t,{z:()=>u});var r=n(67294),a=n(64049),o=n(48597),i=n(25228),c=n(25185);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e,t=(0,o.YB)(),n=(0,o.oW)(),u="mobile"===(0,i.ag)()?"m":"pc",d=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=d[0],m=d[1],f=r.createElement(r.Fragment,null,r.createElement("ul",{className:"pin-code-info__tooltip-list"},r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("78b29fac0b2c75bc32a7a9747d7f347a")),r.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("f0960de6486d3e2a2cfe1d80e5515e89"))),r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("62df98f4f80fee8cf443119583ea5bba")),r.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("bfc78740ec993ccc7a64727028183411"),r.createElement("br",null),t.get("70b3ecc15248d89553be135c58e311b2"),r.createElement("br",null),t.get("d409579a9acfcb3abe9fdf7d11a60192"),r.createElement("br",null),t.get("11ceb912cd60d727683feb5f762037c6"),r.createElement("br",null),r.createElement("br",null),t.get("351fd66ef886f584e88262573f9aabd1"))),r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("c66947ec95003431fc9b1e5b2320f261")),r.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("d5cf8a6a7f83cea53d9d0535f791ae45")))),r.createElement("a",{href:"".concat(n.wwwSite[u],"/service/shipping/"),className:"pin-code-info__tooltip-link","aria-label":t.get("05de1fa1fd62bf5969cfe57dab15adfe")},t.get("05de1fa1fd62bf5969cfe57dab15adfe")));return"m"===u?r.createElement("span",{className:"pin-code-info__button","aria-label":t.get("5d5cd268b8acccf04f63d81c5d0d2cab"),onClick:function(){var e="".concat(n.wwwSite[u],"/service/deliverytime/");window.location.assign(e)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},tabIndex:0,role:"button"},r.createElement(c.q,{symbol:"warning"})):r.createElement(a.Z,{title:f,overlayClassName:"pin-code-info__tooltip",open:s,onOpenChange:m},r.createElement("span",{className:"pin-code-info__button","aria-label":t.get("5d5cd268b8acccf04f63d81c5d0d2cab")},r.createElement(c.q,{symbol:"warning",role:"button",tabIndex:0,onClick:function(){m(function(e){return!e})},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),m(function(e){return!e}))}})))}},8317:function(e,t,n){n.d(t,{S:()=>C});var r=n(52972),a=n(76319),o=n(73444),i=n(96494),c=n(67294),l=n(75635),u=n(97043),d=n(38085),s=n(94184),m=n.n(s),f=n(71083),v=n(48597),p=n(65609),y=n(99506),E=n(86690),_=n(87438),b=n(66008),g=n(3283),S=n(96381),h=n(55709);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||A(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}}function C(e){var t,n,s=e.isModalShow,N=e.setIsModalShow,A=e.userZipCode,C=e.setZipCode,w=e.deliveryType,D=void 0===w?_.lF.NORMAL:w,x=e.setDeliveryMethod,k=e.setUserZipCode,R=(0,v.YB)(),j=!!(0,p.Nr)(),M=(0,c.useContext)(f.k6).state.currentGoodsInfo,L=T((0,c.useState)(!1),2),P=L[0],U=L[1],G=T((0,c.useState)(!1),2),F=G[0],B=G[1],V=T((0,c.useState)(""),2),K=V[0],W=V[1],H=T((0,c.useState)([]),2),Y=H[0],X=H[1],z=(0,c.useContext)(l.Kc),q=(0,c.useContext)(u.f6),$=(0,c.useCallback)(function(e){X((0,_.jK)(e,D))},[D]),Z=T((0,y.$)(function(e,t){return e.pipe((0,b.h)(function(e){return!!e}),(0,g.b)(300),(0,S.w)(function(e){var t=(0,_.$K)(D,_.LW.ZIP_CODE_VIEW_CLICK);return t&&(0,E.otClick)(t),B(!1),X([]),z.getObservable({params:{zipcode:e,item_id:null==M?void 0:M.itemId,item_sales_price:null==M?void 0:M.price}}).pipe((0,h.U)(function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,a=t.COD,o=n;a&&(o=O(n).concat([a])),$(o),B(!0)}else{var i=R.get("294b0d8f15ae147c43369085375069e5");r.Z.text(i)}}))}))},void 0),1)[0],J=(0,c.useCallback)(function(){K&&Z(K)},[K,Z]),Q=(0,c.useCallback)(function(){var e=(0,_.$K)(D,_.LW.CONFIRM_CLICK);e&&(0,E.otClick)(e),P?q.getService({params:{zipcode:K}},function(e){if((null==e?void 0:e.errNo)!==0){var t=R.get((null==e?void 0:e.errMsg)||"");r.Z.text(t)}else N(!s),x&&x(Y),C(K),k&&k(K)}):(N(!s),x&&x(Y),C(K),k&&k(K))},[P,K,Y]);(0,c.useEffect)(function(){var e=(0,_.$K)(D,_.LW.CONFIRM_EXPOSE);if(e&&(0,E.otExpose)(e),A&&M){W(A),B(!1),X([]);var t={zipcode:A,item_id:null==M?void 0:M.itemId,item_sales_price:null==M?void 0:M.price};z.getService({params:t},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,r=t.COD,a=n;r&&(a=O(n).concat([r])),$(a),B(!0)}})}},[$]);var ee=(0,c.useCallback)(function(){var e=(0,_.$K)(D,_.LW.SAVE_LOCATION_CLICK);e&&(0,E.otClick)(e),U(!P)},[P]),et="zip-code-model";return c.createElement("div",{className:"zip-code-model"},c.createElement("div",{className:m()(["".concat(et,"-content-header")])},c.createElement(a.I,{suffix:c.createElement("div",{className:m()((I(t={},"".concat(et,"-content-header-view"),!0),I(t,"".concat(et,"-content-header-view-disabled"),""===K),t)),role:"button",tabIndex:""===K?-1:0,"aria-disabled":""===K,onClick:J,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},R.get("4351cfebe4b61d8aa5efa1d020710005")),placeholder:R.get("d0d5ea5dcae51a8788fb31e671d7a988"),className:m()(["".concat(et,"-content-header-input")]),value:K,onChange:function(e){W(e.target.value),B(!1)}}),j&&c.createElement(o.Z,{checked:P,onChange:ee,className:m()(["".concat(et,"-content-header-checkbox")]),role:"checkbox","aria-checked":P,"aria-label":R.get("aba505f17841d128c393f8e9c1557fb1")},c.createElement("div",{className:m()(["".concat(et,"-content-header-checkbox-children")])},R.get("aba505f17841d128c393f8e9c1557fb1")))),"loading"===z.ajaxStatus?c.createElement(i.a,{type:"inner"}):!!Y.length&&c.createElement("div",{className:m()(["".concat(et,"-content-middle")])},Y.map(function(e,t){var n,r;return c.createElement("div",{key:t,className:m()((I(n={},"".concat(et,"-content-middle-item"),!0),I(n,"".concat(et,"-content-middle-last-item"),t===Y.length-1),n))},c.createElement("div",{className:m()(["".concat(et,"-content-middle-item-top")])},e.name&&c.createElement("div",{className:m()(["".concat(et,"-content-middle-item-name")])},e.name),e.priceDesc&&c.createElement("div",{className:m()((I(r={},"".concat(et,"-content-middle-item-price"),!0),I(r,"".concat(et,"-content-middle-item-price-cod"),"COD"===e.name),r))},e.priceDesc)),e.desc&&c.createElement("div",{className:m()(["".concat(et,"-content-middle-item-bottom")])},c.createElement("div",{className:m()(["".concat(et,"-content-middle-item-desc")])},e.desc,"normal"===e.type&&c.createElement(d.z,null))))})),c.createElement("div",{className:m()(I({},"".concat(et,"-content-bottom"),!0))},c.createElement("div",{className:m()((I(n={},"".concat(et,"-content-bottom-confirm"),!0),I(n,"".concat(et,"-content-bottom-confirmed"),F),n)),role:"button",tabIndex:F?0:-1,"aria-disabled":!F,onClick:Q,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},R.get("70d9be9b139893aa6c69b5e77e614311"))))}},95076:function(e,t,n){n.d(t,{Z:()=>r});var r={data:{isCountryIndonesia:[{api:!0,locals:["id","my","th"]}],isCountryIndia:[{api:!0,locals:["in"]}]},html:{},js:{},css:{}}},29186:function(e,t,n){n.d(t,{I:()=>j});var r=n(67294),a=n(94184),o=n(48597),i=n(89073),c=n(86690),l=n(48785),u=n(81845);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={data:window.__PRELOADED_COMMON_DATA__||{},ajaxStatus:window.__PRELOADED_COMMON_DATA__?"success":"unsent",getServiceSuccess:!1},m=(0,l.o)(p,s),f=(0,r.createContext)(m);function v(e){var t,n=e.siteConfig,a=e.isAutoFetch,o=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(m))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],l=i[1];function v(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:p(t),errMsg:String(n),errNo:Number(r)}}var y={url:"".concat(n.goSite,"/cms/v1/page/get?path=public/why-buy-from-mi-com"),method:"GET",withCredentials:!0};return r.createElement(u.h,{context:f,setState:l,defaultValue:m,adapterError:function(e){return v(Object.assign({},e,{data:s.data,errmsg:"",errno:0}))},adapter:v,value:c,siteConfig:n,isAutoFetch:!0===a,ajaxConfig:y},o)}function p(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:e.title||"",serviceCall:e.serviceCall||"",serviceList:Array.from(e.serviceList||[]).map(function(e){return{clientId:e.clientId||"",typeName:e.typeName||"",type:e.type||"",title:e.title||"",description:e.description||"",paymentMethods:Array.from(e.paymentMethods||[]).map(function(e){return{type:e.type||"",url:e.url||"",checked:e.checked||!1}})}})}}(JSON.parse(((null===(t=(n.layouts||[])[0])||void 0===t?void 0:null===(e=t.children)||void 0===e?void 0:e.filter(function(e){return"why-buy-from-mi-com"===e.name})[0])||{}).extstr||"{}"))}var y=n(97043),E=n(122),_=n(75635),b=n(25185),g=n(40515),S=n(21245),h=n(63492),N=n(8317),I=n(38085),T=n(71083),O=n(95076),A=n(37317),C=n(22151);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){var t,n,a=e.item,i=(0,o.aU)(),l=(0,o.YB)(),u=(0,o.Jd)(i,O.Z,"WhyBuyFromMiCom"),d=null===(t=u.data)||void 0===t?void 0:t.isCountryIndonesia,s=null===(n=u.data)||void 0===n?void 0:n.isCountryIndia,m=(0,r.useContext)(T.k6).state,f=m.currentActivityMap,v=m.currentGoodsInfo,p=m.newActivityMap,y=D((0,r.useState)(!1),2),E=y[0],b=y[1],g=D((0,r.useState)(),2),w=g[0],x=g[1],k=D((0,r.useState)([]),2),R=k[0],j=k[1],M=D((0,r.useState)(),2),L=M[0],P=M[1],U=D((0,r.useState)(),2),G=U[0],F=U[1],B=D((0,r.useState)(),2),V=B[0],K=B[1],W=(0,r.useContext)(_.Kc),H=(0,A.I)({activityList:f,activityMap:p,goodsId:(null==v?void 0:v.itemId)||0}).skuActivityType,Y=(0,r.useMemo)(function(){return!(null==v?void 0:v.isNotForSale)&&!(null==v?void 0:v.isOutOfStock)&&(null==v?void 0:v.isSale)},[v]);return(0,r.useEffect)(function(){if((null==v?void 0:v.itemId)&&(null==v?void 0:v.price)&&s){var e={item_id:null==v?void 0:v.itemId,item_sales_price:null==v?void 0:v.price};L&&(e.zipcode=L),W.getService({params:e},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.location,r=t.methods,a=t.address,o=t.COD;if(o){var i={desc:o.name,priceDesc:o.priceDesc};r.push(i)}x(n),F(a.zipcode),j(r)}})}},[L,v]),(0,r.useEffect)(function(){if((null==v?void 0:v.itemId)&&(null==v?void 0:v.price)&&d){var e,t,n={item_id:null==v?void 0:v.itemId,item_sales_price:null==v?void 0:v.price};(null==w?void 0:null===(e=w.index)||void 0===e?void 0:e.value)&&(n.area_id=null==w?void 0:null===(t=w.index)||void 0===t?void 0:t.value),W.getService({params:n},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.location,r=t.methods,a=t.address;n.name&&K({province:a.province.value,city:a.city.value,district:a.district.value,area:a.area.value}),x(n),j(r)}})}},[v]),(0,r.useEffect)(function(){var e=(0,c.otExposeWith)({exposeThreshold:.3,targetNodeSelector:".why-buy-from-mi__item-model[data-ot-expose]",isInfinite:!1},function(e){return e});return function(){e&&e.disconnect()}},[]),r.createElement(r.Fragment,null,r.createElement("span",{role:"heading","aria-level":4,className:"why-buy-from-mi__item-title"},a.title),Y&&H!==C.T.PreSale?r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,!(w&&(null==w?void 0:w.name))&&r.createElement("span",{className:"why-buy-from-mi__item-desc"},a.description),r.createElement("div",{role:"button",tabIndex:0,onClick:function(){(0,c.otClick)({tip:{a:16,b:21,c:"service",d:0,e:16719},elementName:"service",elementTitle:"delivery_check",isOpenGA:!0}),b(!0)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},className:"why-buy-from-mi__item-model","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"service",d:0,e:16756},elementName:"service",elementTitle:"delivery_check",isOpenGA:!0})},w&&(null==w?void 0:w.name)?"".concat(l.get("81b7b4587a2a3ea7a0d6bb1df3fbba54")," ").concat(null==w?void 0:w.name):l.get("380c4c5d8ff5aa89be8d02a6af40a08a")),w&&(null==w?void 0:w.name)&&!!R.length&&r.createElement("div",{className:"why-buy-from-mi__item-deliver"},R.map(function(e,t){return r.createElement("div",{key:t,className:"why-buy-from-mi__item-deliver-item"},r.createElement("div",{className:"why-buy-from-mi__item-deliver-item-desc"},e.desc,"normal"===e.type&&s&&r.createElement(I.z,null)),r.createElement("div",{className:"why-buy-from-mi__item-deliver-item-price"},e.priceDesc))}))),r.createElement(S.u,{isModalShow:E,closeModal:function(){return b(!1)},title:d?l.get("6f05787682585c32498e88bcd2ea88fc"):l.get("3eb0f1d14d6ec438d91fcfdab94fc1ca"),styleMode:"bottom",titleLayOut:"left",isShowCloseIcon:!0,extraClassName:"zip-code-model",children:d?r.createElement(h.w,{isModalShow:E,setIsModalShow:b,userLocation:V,setUserLocation:K,location:w,setLocation:x,deliveryMethod:R,setDeliveryMethod:j}):r.createElement(N.S,{isModalShow:E,setIsModalShow:b,userZipCode:G,setZipCode:P})})):r.createElement("span",{className:"why-buy-from-mi__item-desc"},a.description))}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t,n,l,u,d,s=e.className,m=e.cmsData,v=e.isBuyProduct,y=void 0!==v&&v,E=e.isShowDelivery,_=void 0===E||E,S=e.onContentFold,h=(0,o.YB)(),N=/(?:\+?(\d{1,3})[-\s.]?)?(?:\(\d{2,4}\))?\d[-\s.\d]{3,16}\d/gi,I=(0,o.Sz)(),T=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=T[0],A=T[1],C=(0,r.useContext)(f),w=(0,r.useRef)(0),D=(0,o.Vi)(),R=I?p(D):(null==m?void 0:m.title)?m:C.data,j=(0,i.i)(null,["resize","scroll","orientationchange"],[R.title,R.serviceList]);function M(){if(!y){A(!O);return}if(O){(0,c.otClick)({tip:{a:16,b:21,c:"service",d:0,e:16719},elementName:"service",elementTitle:"close",isOpenGA:!0});var e=document.querySelector(".why-buy-from-mi__content");if(e){var t=document.querySelector(".buy-product__main-section");if(t){var n,r=e.getBoundingClientRect();if(w.current||(w.current=r.height),n=t.getBoundingClientRect(),window.innerHeight-n.bottom>0){e.style.transition="none";var a=Math.max(Number((null==e?void 0:e.clientHeight)/30),10),o=r.height,i=function(){o>0?(o<a&&(a=o),o-=a,e.style.height=o+"px",window.scrollTo({top:window.scrollY-a}),requestAnimationFrame(i)):A(!1)};requestAnimationFrame(i)}else O&&"function"==typeof S&&(null==S||S(0,w.current),A(!1))}}}else null==S||S(w.current,0),A(!0)}return(0,r.useEffect)(function(){var e;return y&&(e=(0,c.otExposeWith)({exposeThreshold:.3,targetNodeSelector:".why-buy-from-mi--open[data-ot-expose]",isInfinite:!1},function(e){return e})),function(){e&&e.disconnect()}},[y]),r.createElement("section",{className:a("why-buy-from-mi",(n={"why-buy-from-mi--open":!!O,"why-buy-from-mi--hidden":!R.title},l="".concat(s),u=!!s,l in n?Object.defineProperty(n,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[l]=u,n)),"data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"service",d:0,e:16756},elementName:"service",isOpenGA:!0})},!!R.title&&r.createElement("h2",{className:"why-buy-from-mi__header",onClick:M},r.createElement("div",{className:"why-buy-from-mi__title"},R.title),r.createElement(b.q,{className:"why-buy-from-mi__icon",symbol:"down",onClick:M,role:"button",tabIndex:0,"aria-expanded":O,onKeyDown:function(e){(" "===e.key||"Enter"===e.key)&&(M(),e.preventDefault())}})),r.createElement("div",{className:"why-buy-from-mi__content",ref:j,"aria-hidden":!O},!!R.serviceList.length&&r.createElement(r.Fragment,null,r.createElement("div",{role:"separator",className:"why-buy-from-mi__separator","aria-label":h.get("a6122a65eaa676f700ae68d393054a37")+":"+R.title}),r.createElement("div",{role:"list",className:"why-buy-from-mi__list"},(R.serviceList||[]).map(function(e,t){return r.createElement("div",{role:"listitem",className:"why-buy-from-mi__item",key:"".concat(t,"-").concat(e.title)},r.createElement(b.q,{className:"why-buy-from-mi__item-icon",symbol:e.type,"aria-hidden":!0}),r.createElement("div",{className:"why-buy-from-mi__item-content"},y&&_&&"deliveryMethod"===e.typeName?r.createElement(x,{item:e}):r.createElement(r.Fragment,null,r.createElement("span",{className:"why-buy-from-mi__item-title",role:"heading","aria-level":3},e.title),r.createElement("span",{className:"why-buy-from-mi__item-desc"},e.description)),"paymentMethod"===(e.typeName||"")&&((null==e?void 0:e.paymentMethods)||[]).filter(function(e){return e.checked}).length?r.createElement("div",{className:"why-buy-from-mi__pay-list"},((null==e?void 0:e.paymentMethods)||[]).map(function(e,t){return(null==e?void 0:e.checked)?r.createElement("img",{src:e.url,alt:e.type,className:"why-buy-from-mi__pay-img",key:t}):r.createElement(r.Fragment,{key:t})})):r.createElement(r.Fragment,null)))}))),!!R.serviceCall&&r.createElement(r.Fragment,null,r.createElement("div",{role:"separator",className:"why-buy-from-mi__separator","aria-label":h.get("87557f11575c0ad78e4e28abedc13b6e")+":"+R.title}),r.createElement("p",{className:"why-buy-from-mi__tel"},r.createElement(g.b,{inputStr:"".concat(R.serviceCall.replace(N,function(e){return"#@@#".concat(e,"#@@#")})),linkArr:null===(d=R.serviceCall.match(N))||void 0===d?void 0:d.map(function(e){return"tel: ".concat(e)})})))))}function j(e){var t=(0,o.oW)();return r.createElement(v,{siteConfig:t,isAutoFetch:!0},r.createElement(y.Em,{siteConfig:t},r.createElement(E.XY,{siteConfig:t},r.createElement(_.Z3,{siteConfig:t},r.createElement(R,e)))))}},87438:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{$K:()=>m,LW:()=>u,jK:()=>f,lF:()=>l});var a,o,i,c,l=((o={}).NORMAL="normal",o.INSTALLATION="installation",o),u=((a={}).CONFIRM_EXPOSE="confirmExpose",a.CONFIRM_CLICK="confirmClick",a.ZIP_CODE_VIEW_CLICK="zipCodeViewClick",a.SAVE_LOCATION_CLICK="saveLocationClick",a),d=(r(i={},"confirmExpose",null),r(i,"confirmClick",null),r(i,"zipCodeViewClick",{tip:{a:16,b:"version-selection",c:"installation_more",e:16719},elementName:"installation_more",pageType:"version-selection",buttonName:"view",isOpenGA:!0}),r(i,"saveLocationClick",{tip:{a:16,b:"version-selection",c:"installation_more",e:16719},elementName:"installation_more",pageType:"version-selection",buttonName:"save",isOpenGA:!0}),i),s=(r(c={},"confirmExpose",{tip:{a:16,b:21,c:"delivery_check_confirm",d:0,e:16756},elementName:"delivery_check_confirm",isOpenGA:!0}),r(c,"confirmClick",{tip:{a:16,b:21,c:"delivery_check_confirm",d:0,e:16719},elementName:"delivery_check_confirm",isOpenGA:!0}),r(c,"zipCodeViewClick",null),r(c,"saveLocationClick",null),c);function m(e,t){switch(e){case"installation":return d[t]||null;case"normal":return s[t]||null;default:return null}}function f(e,t){return e&&0!==e.length?"installation"===t?function(e){if(!e||0===e.length)return[];var t,n,a,o,i,c=null===(n=e.filter(function(e){return(null==e?void 0:e.type)==="normal"})[0])||void 0===n?void 0:null===(t=n.additionalServices)||void 0===t?void 0:t.find(function(e){return(null==e?void 0:e.type)==="installation"});return c?[(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}({},c),i=i={priceDesc:null==c?void 0:null===(a=c.priceInfo)||void 0===a?void 0:a.priceDesc},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))}),o)]:[]}(e):e:[]}},97043:function(e,t,n){n.d(t,{Em:()=>f,f6:()=>m});var r,a,o=n(67294),i=n(48785),c=n(81845),l=n(81848);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d={data:(null===(r=window.__PRELOADED_STATE__)||void 0===r?void 0:r.data)||{},ajaxStatus:(null===(a=window.__PRELOADED_STATE__)||void 0===a?void 0:a.data)?"success":"unsent",getServiceSuccess:!1},s=(0,i.o)(v,d),m=(0,o.createContext)(s);function f(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(s))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=i[0],f=i[1];function p(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:v(t||{}),errMsg:String(n),errNo:Number(r)}}var y={url:"".concat(n.goSite,"/location/save"),method:"GET",withCredentials:!0},E=(0,l.u)(y);return o.createElement(c.h,{context:m,setState:f,defaultValue:s,adapterError:function(e){return p(e)},adapter:p,value:d,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:E},a)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{total:Number(e.total)||0}}},122:function(e,t,n){n.d(t,{XK:()=>m,XY:()=>f});var r,a,o=n(67294),i=n(48785),c=n(81845),l=n(81848);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d={data:(null===(r=window.__PRELOADED_STATE__)||void 0===r?void 0:r.data)||{},ajaxStatus:(null===(a=window.__PRELOADED_STATE__)||void 0===a?void 0:a.data)?"success":"unsent",getServiceSuccess:!1},s=(0,i.o)(v,d),m=(0,o.createContext)(s);function f(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(s))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=i[0],f=i[1];function p(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:v(t||{}),errMsg:String(n),errNo:Number(r)}}var y={url:"".concat(n.goSite,"/address/region/list"),method:"GET",withCredentials:!0,retryOptions:{maxRetryAttempts:3,scalingDuration:3e3}},E=(0,l.u)(y);return o.createElement(c.h,{context:m,setState:f,defaultValue:s,adapterError:function(e){return p(e)},adapter:p,value:d,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:E},a)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{total:Number(e.total)||0,regions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(e||[]).map(function(e){return{value:String(e.id||""),parentId:String(e.parent_id||""),label:String(e.name||""),level:Number(e.level||0),source:String(e.source||"")}})}(e.regions||[])}}},19050:function(e,t,n){n.d(t,{N:()=>l,O:()=>u});var r=n(67294),a=n(48785),o=n(81845);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,a.o)(d),l=(0,r.createContext)(c);function u(e){var t,n=e.siteConfig,a=e.isAutoFetch,u=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(c))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=s[0],f=s[1];function v(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:d(t||{}),errMsg:String(n),errNo:Number(r)}}var p={url:"".concat(n.goSite,"/getcoupon/draw"),method:"GET",withCredentials:!0};return r.createElement(o.h,{context:l,setState:f,defaultValue:c,adapterError:function(e){return v(e)},adapter:v,value:m,siteConfig:n,isAutoFetch:!0===a,ajaxConfig:p},u)}function d(e){return{couponId:String(e.coupon_id||e.itemId||"")}}},75635:function(e,t,n){n.d(t,{Kc:()=>f,Z3:()=>v});var r,a,o,i=n(67294),c=n(48785),l=n(81845),u=n(81848);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={data:(null===(a=window.__PRELOADED_STATE__)||void 0===a?void 0:null===(r=a.productDelivery)||void 0===r?void 0:r.data)||{},ajaxStatus:(null===(o=window.__PRELOADED_STATE__)||void 0===o?void 0:o.data)?"success":"unsent",getServiceSuccess:!1},m=(0,c.o)(p,s),f=(0,i.createContext)(m);function v(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(m))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o[0],s=o[1];function v(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:p(t||{}),errMsg:String(n),errNo:Number(r)}}var y={url:"".concat(n.goSite,"/fulfillment/delivery"),method:"GET",withCredentials:!0},E=(0,u.u)(y);return i.createElement(l.h,{context:f,setState:s,defaultValue:m,adapterError:function(e){return v(e)},adapter:v,value:c,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:E},a)}function p(){var e,t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{methods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(e||[]).filter(function(e){var t;return!!(null==e?void 0:null===(t=e.availability_info)||void 0===t?void 0:t.available)}).map(function(e){var t,n,r;return{name:String((null==e?void 0:e.name)||""),desc:String((null==e?void 0:null===(t=e.aging_info)||void 0===t?void 0:t.aging_desc)||""),priceDesc:String((null==e?void 0:null===(n=e.price_info)||void 0===n?void 0:n.price_desc)||""),estimatedDeliveryTimeDesc:String(null==e?void 0:null===(r=e.time_info)||void 0===r?void 0:r.estimated_delivery_time_desc),type:String((null==e?void 0:e.type)||""),additionalServices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){var t,n,r;return{name:String((null==e?void 0:e.name)||""),desc:String((null==e?void 0:e.desc)||""),type:String((null==e?void 0:e.type)||""),priceInfo:{priceDesc:String((null==e?void 0:null===(t=e.price_info)||void 0===t?void 0:t.price_desc)||""),price:String((null==e?void 0:null===(n=e.price_info)||void 0===n?void 0:n.price)||0)},availabilityInfo:{available:!!(null==e?void 0:null===(r=e.availability_info)||void 0===r?void 0:r.available)}}})}(null==e?void 0:e.additional_services)}})}((null==o?void 0:o.methods)||[]),address:function(){var e,t,n,r,a,o,i,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{zipcode:String((null==l?void 0:l.zipcode)||""),area:{label:String((null==l?void 0:null===(e=l.area)||void 0===e?void 0:e.name)||""),value:String((null==l?void 0:null===(t=l.area)||void 0===t?void 0:t.id)||"")},province:{label:String((null==l?void 0:null===(n=l.province)||void 0===n?void 0:n.name)||""),value:String((null==l?void 0:null===(r=l.province)||void 0===r?void 0:r.id)||"")},city:{label:String((null==l?void 0:null===(a=l.city)||void 0===a?void 0:a.name)||""),value:String((null==l?void 0:null===(o=l.city)||void 0===o?void 0:o.id)||"")},district:{label:String((null==l?void 0:null===(i=l.district)||void 0===i?void 0:i.name)||""),value:String((null==l?void 0:null===(c=l.district)||void 0===c?void 0:c.id)||"")}}}((null==o?void 0:o.address)||{}),location:{name:String((null==o?void 0:null===(e=o.location)||void 0===e?void 0:e.name)||""),index:{type:String((null==o?void 0:null===(n=o.location)||void 0===n?void 0:null===(t=n.index)||void 0===t?void 0:t.type)||""),value:String((null==o?void 0:null===(a=o.location)||void 0===a?void 0:null===(r=a.index)||void 0===r?void 0:r.value)||"")}},COD:function(){var e,t,n,r,a,o,i,c,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=u.find(function(e){return"normal"===e.type});if(!d)return null;var s=d.additional_services,m=void 0===s?[]:s;return 0!==m.length&&(null===(t=m[0])||void 0===t?void 0:null===(e=t.availability_info)||void 0===e?void 0:e.available)?{name:String(null!==(i=null===(n=m[0])||void 0===n?void 0:n.name)&&void 0!==i?i:""),desc:String(null!==(c=null===(r=m[0])||void 0===r?void 0:r.desc)&&void 0!==c?c:""),priceDesc:String(null!==(l=null===(o=m[0])||void 0===o?void 0:null===(a=o.price_info)||void 0===a?void 0:a.price_desc)&&void 0!==l?l:"")}:null}((null==o?void 0:o.methods)||[])}}},89073:function(e,t,n){n.d(t,{i:()=>i});var r=n(67294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=(0,r.useRef)(e),l=c.current,u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||o(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],s=u[1],m=Array.from(new Set(n));function f(){s(Date.now())}return(0,r.useEffect)(function(){l&&l.style&&l.style.setProperty("--box-height","".concat(l.scrollHeight))},[d].concat(function(e){if(Array.isArray(e))return a(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||o(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),(0,r.useEffect)(function(){return f(),m.forEach(function(e){return window.addEventListener(e,f)}),function(){m.forEach(function(e){return window.removeEventListener(e,f)})}},[]),c}}}]);