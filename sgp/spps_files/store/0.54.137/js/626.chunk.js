"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["626"],{56365:function(e,t,r){r.r(t),r.d(t,{default:()=>eC,ServiceStoreMap:()=>eD});var n,a=r(67294),o=r(94184),c=r.n(o);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var u=((n=u||{}).UPDATE_SEARCH_WORD="UPDATE_SEARCH_WORD",n.UPDATE_PRODUCT_TYPE="UPDATE_PRODUCT_TYPE",n.UPDATE_SERVICEWAY="UPDATE_SERVICEWAY",n.UPDATE_POSITION="UPDATE_POSITION",n.UPDATE_ACTIVE_ITEM="UPDATE_ACTIVE_ITEM",n.UPDATE_MAP_CENTER="UPDATE_MAP_CENTER",n.UPDATE_APP_CENTER="UPDATE_APP_CENTER",n.UPDATE_ACTIVE_TAB="UPDATE_ACTIVE_TAB",n.UPDATE_SHOW_STORE_DETAILS="UPDATE_SHOW_STORE_DETAILS",n.UPDATE_SELECTED_STORE_DATA="UPDATE_SELECTED_STORE_DATA",n.UPDATE_IS_SEARCH="UPDATE_IS_SEARCH",n),m={word:"",productType:[],serviceway:[],position:{lat:1e3,lng:1e3},mapCenter:{lat:1e3,lng:1e3},wordChangeCount:0,isMarkerHasActive:!1,appCenter:{lat:1e3,lng:1e3},activeTab:"list",showStoreDetails:!1,activeItem:"",selectedStoreData:{id:""},isSearch:!1};function p(e,t){switch(t.type){case"UPDATE_POSITION":return s(i({},e),{position:t.payload});case"UPDATE_PRODUCT_TYPE":return s(i({},e),{productType:t.payload});case"UPDATE_SERVICEWAY":return s(i({},e),{serviceway:t.payload});case"UPDATE_SHOW_STORE_DETAILS":return s(i({},e),{showStoreDetails:t.payload});case"UPDATE_SEARCH_WORD":return s(i({},e),{word:t.payload,wordChangeCount:e.wordChangeCount+1});case"UPDATE_ACTIVE_ITEM":if(t.payload)return s(i({},e),{activeItem:t.payload,isMarkerHasActive:!0});return s(i({},e),{activeItem:t.payload});case"UPDATE_MAP_CENTER":return s(i({},e),{mapCenter:t.payload});case"UPDATE_APP_CENTER":return s(i({},e),{appCenter:t.payload});case"UPDATE_ACTIVE_TAB":return s(i({},e),{activeTab:t.payload});case"UPDATE_SELECTED_STORE_DATA":return s(i({},e),{selectedStoreData:t.payload});case"UPDATE_IS_SEARCH":return s(i({},e),{isSearch:t.payload});default:return e}}var f=(0,a.createContext)({state:m,dispatch:function(e){}});function d(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,a.useReducer)(p,m))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1];return a.createElement(f.Provider,{value:{state:n,dispatch:o}},e.children)}var y=r(48597);function E(e){var t=(0,y.YB)(),r=e.updateTab,n=(0,a.useContext)(f).state.activeTab,c=function(e){r(e)};return a.createElement("div",{className:"toggle-tab"},a.createElement("div",{className:"toggle-tab__container"},a.createElement("span",{className:o("toggle-tab__item",{active:"list"===n}),onClick:function(){return c("list")},role:"button",tabIndex:0},t.get("56ee3495a32081ccb6d2376eab391bfa")),a.createElement("i",{className:"line"}),a.createElement("span",{className:o("toggle-tab__item",{active:"map"===n}),onClick:function(){return c("map")},role:"button",tabIndex:0},t.get("46f3ea056caa3126b91f3f70beea068c"))))}var v=r(25228),b=r(73444),g=r(25185),T=r(79894),A=r(86690);function _(e){return{selectDeviceExplainMap:{1:e.get("0cb154eed4ddf01b24410f85038f831d"),2:e.get("82f90e2f7354ca298a92ab8a01d6c2a3"),3:e.get("4f0528331bb57354f01a4c7910d3c293"),4:e.get("271ddf829afeece44d8732757fba1a66"),5:e.get("1fb10210b1283c77b8b1d4dc6f366d3a")},serviceExplainMap:{1:e.get("9e5ba0da044dc25277520a04c3455ae4"),2:e.get("66b5cae739b56eb4c6aa493488bc66e5"),3:e.get("0fd78048f6e45842321096d6a0199716"),4:e.get("82420a1473bd5c387505652ea10e4a7e")},deviceType:{1:e.get("853ca16bda4f3d303e70e48db81c17c6"),2:e.get("82f90e2f7354ca298a92ab8a01d6c2a3"),3:e.get("47e3170ffb3d6c316975632968933646"),4:e.get("271ddf829afeece44d8732757fba1a66"),5:e.get("146bdebb324a64d327b1dde22a07d0bd")},notScooterDeviceType:{1:e.get("853ca16bda4f3d303e70e48db81c17c6"),3:e.get("47e3170ffb3d6c316975632968933646"),4:e.get("271ddf829afeece44d8732757fba1a66"),5:e.get("146bdebb324a64d327b1dde22a07d0bd")},serviceType:{1:e.get("337f7b9ce9962aa18951e04c730de42a"),2:e.get("b51b39d885c65c7ee70d7693cfb078d9"),3:e.get("be35196b045091061674e6363b18983b"),4:e.get("0818b60b8ede74625324ce638693d18b")},pointDeviceType:{1:"Smartphone",2:"Scooter",3:"Ecosystem",4:"TV",5:"Laptop"},pointServiceType:{1:"Walk-in",2:"On-site",3:"Mail-in",4:"Collection point"}}}var h={1:"nav-phone",2:"nav-outdoor-travel",3:"nav-robot-vacuum",4:"nav-office",5:"nav-laptops"},S={1:"account",2:"maintain",3:"support-mail",4:"home"};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(e,t)||P(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}function I(e){var t=(0,a.useContext)(f),r=t.state,n=r.productType,o=r.serviceway,c=t.dispatch,l=(0,y.YB)(),i=_(l),s=i.deviceType,m=i.serviceType,p=i.pointDeviceType,d=i.pointServiceType,E=C((0,a.useState)(n),2),v=E[0],D=E[1],P=C((0,a.useState)(o),2),I=P[0],N=P[1],U=e.closeFilterActive,w=function(e,t){var r=e.target.value;"device"===t?(e.target.checked&&(0,A.otClick)({tip:"16.107.2.0.28648",elementName:"device_type",elementTitle:p[r],pageType:"support_service-centre",isOpenGA:!0}),D(v.includes(r)?v.filter(function(e){return e!==r}):O(v).concat([r]))):"service"===t&&(e.target.checked&&(0,A.otClick)({tip:"16.107.2.0.28648",elementName:"service_type",elementTitle:d[r],pageType:"support_service-centre",isOpenGA:!0}),N(I.includes(r)?I.filter(function(e){return e!==r}):O(I).concat([r])))};return a.createElement("div",{className:"store-filter store-filter-m"},a.createElement("div",{className:"store-filter__main"},a.createElement("div",{className:"store-filter-type-select"},a.createElement("p",{className:"store-filter-type-select"},l.get("3836c33415a6d95d4a63388a6bcadf3b")),a.createElement(b.Z.Group,{cbType:"card"},Object.entries(s).map(function(e){var t=C(e,2),r=t[0],n=t[1];return a.createElement(b.Z,{value:r,key:"".concat(r,"-").concat(v.includes(r)),showSelectedIcon:!1,checked:v.includes(r),className:"store-filter__radio-item",onChange:function(e){return w(e,"device")}},a.createElement(g.q,{symbol:h[r]}),n)}))),a.createElement("div",{className:"store-filter-type-select"},a.createElement("p",{className:"store-filter-type-select"},l.get("641b9b441f6953a386496e5c649780b0")),a.createElement(b.Z.Group,{cbType:"card"},Object.entries(m).map(function(e){var t=C(e,2),r=t[0],n=t[1];return a.createElement(b.Z,{value:r,key:"".concat(r,"-").concat(I.includes(r)),showSelectedIcon:!1,checked:I.includes(r),className:"store-filter__radio-item",cbType:"card",onChange:function(e){return w(e,"service")}},a.createElement(g.q,{symbol:S[r]}),n)})))),a.createElement(T.z,{btnType:"primary",className:"store-filter__confirm",onClick:function(){c({type:u.UPDATE_SERVICEWAY,payload:I}),c({type:u.UPDATE_PRODUCT_TYPE,payload:v}),U&&U()}},l.get("70d9be9b139893aa6c69b5e77e614311")))}var N={data:{isNotScooter:[{api:!0,locals:["tw"]}]},html:{},js:{},css:{}};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(e,t)||R(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}function k(){var e=(0,y.YB)(),t=(0,y.aU)(),r=_(e),n=r.serviceType,o=r.deviceType,c=r.pointDeviceType,l=r.pointServiceType,i=r.notScooterDeviceType,s=(0,a.useContext)(f),m=s.state,p=m.productType,d=m.serviceway,E=s.dispatch,v=((0,y.Jd)(t,N,"ServiceStoreMapContent").data||{}).isNotScooter,T=function(e,t){(0,A.otClick)({tip:"16.107.2.0.28648",elementName:"".concat(e,"_type"),elementTitle:"device"===e?c[t]:l[t],pageType:"support_service-centre",isOpenGA:!0})},D=function(e,t){var r=e.target.value;if("device"===t){e.target.checked&&T("device",r);var n=p.includes(r)?p.filter(function(e){return e!==r}):j(p).concat([r]);E({type:u.UPDATE_PRODUCT_TYPE,payload:n})}else if("service"===t){e.target.checked&&T("service",r);var a=d.includes(r)?d.filter(function(e){return e!==r}):j(d).concat([r]);E({type:u.UPDATE_SERVICEWAY,payload:a})}};return a.createElement("div",{className:"store-filter store-filter-pc"},a.createElement("div",{className:"store-filter-type-select"},a.createElement("p",{className:"store-filter-type-select"},e.get("3836c33415a6d95d4a63388a6bcadf3b")),a.createElement(b.Z.Group,{cbType:"card"},Object.entries(v?i:o).map(function(e){var t=w(e,2),r=t[0],n=t[1];return a.createElement(b.Z,{value:r,key:r,showSelectedIcon:!1,checked:p.includes(r),className:"store-filter__radio-item",onChange:function(e){return D(e,"device")},"aria-label":n},a.createElement(g.q,{symbol:h[r]}),n)}))),a.createElement("div",{className:"store-filter-type-select"},a.createElement("p",{className:"store-filter-type-select"},e.get("641b9b441f6953a386496e5c649780b0")),a.createElement(b.Z.Group,{cbType:"card"},Object.entries(n).map(function(e){var t=w(e,2),r=t[0],n=t[1];return a.createElement(b.Z,{value:r,key:r,showSelectedIcon:!1,checked:d.includes(r),className:"store-filter__radio-item",cbType:"card",onChange:function(e){return D(e,"service")}},a.createElement(g.q,{symbol:S[r]}),n)}))))}function x(e){return"mobile"!==(0,v.ag)()?a.createElement(k,null):a.createElement(I,e)}var M=r(45501),L=r(96494),W=r(48785),H=r(81845);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var q=(0,W.o)(z),B=(0,a.createContext)(q);function Y(e){var t,r=e.children,n=e.siteConfig,o=e.isAutoFetch,c=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(q))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return V(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=c[0],i=c[1];function s(e){var t=e.body,r=e.errmsg,n=e.errno;return{data:z(t||{}),errMsg:String(r),errNo:Number(n)}}var u={url:"".concat(n.apiSite,"/crm/api/XSiteMapQuery"),method:"POST",headers:{"Content-Type":"application/json"},withCredentials:!1};return a.createElement(H.h,{context:B,setState:i,defaultValue:q,adapterError:function(e){return s(e)},adapter:s,siteConfig:n,value:l,isAutoFetch:!!o,ajaxConfig:u},r)}function z(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:(null==r?void 0:r.page)&&{count:Number((e=r.page).count)||0,pageNo:Number(e.pageNo)||0,pageSize:Number(e.pageSize)||0}||{pageNo:0,count:0,size:0},orgList:(null==r?void 0:r.orgList)&&((t=r.orgList).length?t.map(function(e){return{id:e.id||"",name:e.name||"",productType:e.productType||[],productTypeDesc:e.productTypeDesc&&e.productTypeDesc.length?e.productTypeDesc.join(","):"",serviceWay:e.serviceWay||[],serviceWayDesc:e.serviceWayDesc&&e.serviceWayDesc.length?e.serviceWayDesc.join(","):"",type:e.type||0,typeDesc:e.typeDesc||"",city:e.city||"",address:e.address||"",tel:e.tel||"",shopTime:e.shopTime||"",latitude:Number(e.latitude)||1e3,longitude:Number(e.longitude)||1e3,announcement:e.announcement||""}}):[])||[]}}var G=r(82990);function F(){var e=(0,a.useContext)(B).data.orgList;return{resultData:(0,a.useMemo)(function(){return e.length?e:[]},[e])}}function Z(){var e=(0,y.YB)(),t=_(e).serviceType,r=(0,v.ag)(),n=F().resultData,c=void 0===n?[]:n,l=(0,a.useContext)(f),i=l.state,s=i.activeItem,m=i.wordChangeCount,p=l.dispatch,d=(0,a.useContext)(B),E=(0,a.useContext)(G.N),b=(0,a.useCallback)(function(e){(0,A.otClick)({tip:"16.107.3.0.28649",elementName:"store_details",elementTitle:"map",pageType:"support_service-centre",isOpenGA:!0}),p({type:u.UPDATE_ACTIVE_ITEM,payload:e}),p({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!1}),p({type:u.UPDATE_SELECTED_STORE_DATA,payload:{}}),"mobile"===r&&p({type:u.UPDATE_ACTIVE_TAB,payload:"map"})},[s,p]),T=function(e,t,n){e.stopPropagation(),(0,A.otClick)({tip:"16.107.3.0.28649",elementName:"store_details",elementTitle:"learn_more",pageType:"support_service-centre",isOpenGA:!0}),p({type:u.UPDATE_ACTIVE_ITEM,payload:n}),p({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!0}),p({type:u.UPDATE_SELECTED_STORE_DATA,payload:t}),"mobile"===r&&p({type:u.UPDATE_ACTIVE_TAB,payload:"map"})};return a.createElement("div",{className:"mi-service-list",id:"mi-service-list-dom"},"success"===d.ajaxStatus||0===m&&E.getServiceSuccess?a.createElement(a.Fragment,null,0===c.length?a.createElement("div",{className:"mi-service-list-empty"},a.createElement(g.q,{symbol:"warning"}),a.createElement("p",{className:"mi-service-list-empty__content"},e.get("f3f579bf85750f6fd39f922756cd4552")),a.createElement("p",{className:"mi-service-list-empty__content"},e.get("f549f3476aa834a5f8e9aa70cbf08cb5"))):a.createElement("ul",{className:"mi-service-list__container",role:"menu",tabIndex:0},c.map(function(r,n){var c=r.id,l=r.name,i=r.address,u=r.productType,m=r.serviceWay,p=r.tel,f=r.shopTime;return a.createElement("li",{className:o("mi-service-list__item",{active:c===s}),id:"mi-service-list-dom-".concat(n),key:"".concat(n,"-").concat(c),role:"menuitem",tabIndex:0,onClick:function(){return b(c)}},a.createElement("h3",{className:"mi-service-list__item-title"},l),a.createElement("div",{className:"mi-service-list__item-tag"},null==m?void 0:m.map(function(e){return a.createElement(M.V,{key:e,color:"orange"},a.createElement(g.q,{symbol:S[e]}),t[e])})),i&&a.createElement("p",{className:"mi-service-list__item-location"},a.createElement(g.q,{symbol:"location"}),a.createElement("span",null,i)),f&&a.createElement("p",{className:"mi-service-list__item-time"},a.createElement(g.q,{symbol:"time"}),a.createElement("span",null,f)),p&&a.createElement("p",{className:"mi-service-list__item-tel"},a.createElement(g.q,{symbol:"phone"}),a.createElement("span",null,p)),(null==u?void 0:u.length)!==0&&a.createElement("p",{className:"mi-service-list__item-productType"},a.createElement(g.q,{symbol:"nav-tool"}),a.createElement("span",null,null==u?void 0:u.map(function(e){return a.createElement(g.q,{key:e,symbol:h[e]})}))),a.createElement("p",{className:"mi-service-list__item-link",onClick:function(e){return T(e,r,c)},role:"button"},e.get("f5395c9793af8a11b406ca7c1ac70da9")," ",a.createElement(g.q,{symbol:"micon-link-arrow"})))}))):a.createElement(L.a,{extClassNames:"mi-service-list__loader"}))}var $=r(805),K=function(e){var t=e||{lat:1e3,lng:1e3},r=t.lat,n=t.lng;return 1e3!==r&&1e3!==n};function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Q=r(43503);function X(e){var t=e.storeData,r=e.highlightId,n=(0,a.useContext)(f).dispatch,o=function(e){e.stopPropagation(),n({type:u.UPDATE_SELECTED_STORE_DATA,payload:t}),n({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!0}),n({type:u.UPDATE_ACTIVE_ITEM,payload:t.id});var a=document.getElementById("mi-service-list-dom-".concat(r)),o=document.getElementById("mi-service-list-dom");o&&a&&(o.scrollTop=a.offsetTop-o.offsetTop)};return a.createElement("div",{className:"store-marker"},a.createElement("div",{className:"store-marker__sign",onClick:function(e){o(e)},role:"button",tabIndex:0},a.createElement(Q.b,null)))}function ee(e){var t=e.storeData,r=(0,y.YB)(),n=_(r),o=n.serviceType,c=n.selectDeviceExplainMap,l=n.serviceExplainMap,i=(0,a.useContext)(f).dispatch,s=t.productType,m=t.address,p=t.tel,d=t.serviceWay,E=t.shopTime,v=t.announcement,b=t.name;return a.createElement("div",{className:"store-details"},a.createElement(g.q,{symbol:"clear",className:"store-details-close",onClick:function(){i({type:u.UPDATE_SELECTED_STORE_DATA,payload:{id:""}}),i({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!1})},role:"button",tabIndex:0}),a.createElement("h2",{className:"store-details-name"},b),a.createElement("div",{className:"store-details-service"},v&&a.createElement("div",{className:"store-details-service-annoucement"},a.createElement("p",{className:"store-details-service-title"},r.get("40fa3bc5389e8f2b7e1b144024cbc92b")),a.createElement("p",{className:"store-details-service-annoucement-content"},v)),a.createElement("div",{className:"store-details-service-info"},a.createElement("p",{className:"store-details-service-title"},r.get("807402b2447c57bd90060f83ba51c561")),m&&a.createElement("p",{className:"store-details-service-info-location"},a.createElement(g.q,{symbol:"location"}),a.createElement("span",null,m)),E&&a.createElement("p",{className:"store-details-service-info-time"},a.createElement(g.q,{symbol:"time"}),a.createElement("span",null,E)),p&&a.createElement("p",{className:"store-details-service-info-tel"},a.createElement(g.q,{symbol:"phone"}),a.createElement("span",null,p))),(null==s?void 0:s.length)!==0&&a.createElement("div",{className:"store-details-service-product"},a.createElement("p",{className:"store-details-service-title"},r.get("8e2d4d500540c50d95091b34556210a6")),null==s?void 0:s.map(function(e){return a.createElement("p",{key:e,className:"store-details-service-product__list-content"},a.createElement(g.q,{symbol:h[e]}),a.createElement("span",null,c[e]))})),(null==d?void 0:d.length)!==0&&a.createElement("div",{className:"store-details-service-way"},a.createElement("p",{className:"store-details-service-title"},r.get("641b9b441f6953a386496e5c649780b0")),null==d?void 0:d.map(function(e){return a.createElement(a.Fragment,{key:e},a.createElement(M.V,{color:"orange",className:"store-details-service-way-tag"},a.createElement(g.q,{symbol:S[e]}),o[e]),a.createElement("p",null,l[e]))}))))}var et={data:{notShowMap:[{api:!0,locals:["tw"]}]},html:{},js:{},css:{}};function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function ea(){var e,t,r,n,c,l,i,s,m,p,d,E,b,g,T,A,_,h,S,D=(c=(n=function(e){if(Array.isArray(e))return e}(r=(0,a.useState)({lat:1e3,lng:1e3}))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(r,2)||function(e,t){if(e){if("string"==typeof e)return J(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],l=n[1],i=(0,y.oW)(),s=F().resultData,p=(m=(0,a.useContext)(f).state).position,d=m.activeItem,E=m.isMarkerHasActive,b=m.appCenter,g=m.serviceway,T=m.productType,A=m.activeTab,_=(0,a.useRef)(),(0,a.useEffect)(function(){var e={lat:1e3,lng:1e3};if(d||!E){if(d){var t=null==s?void 0:s.find(function(e){return e.id===d});e={lat:(null==t?void 0:t.latitude)||1e3,lng:(null==t?void 0:t.longitude)||1e3}}else e=K(b)?b:K(p)?p:s.length?{lat:s[0].latitude||1e3,lng:s[0].longitude||1e3}:{lat:i.capitalLatitude,lng:i.capitalLongitude};K(e)?l(e):l({lat:i.capitalLatitude,lng:i.capitalLongitude})}},[d,p,s,b,T,g,E,A]),(0,a.useEffect)(function(){return function(){_.current=A}},[A]),function(e){if(Array.isArray(e))return e}(h=[c])||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(h,1)||function(e,t){if(e){if("string"==typeof e)return er(e,1);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}}(h,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],C=F().resultData,O=void 0===C?[]:C,P=(0,a.useContext)(f),I=P.state,N=I.activeItem,U=I.position,w=I.appCenter,j=I.selectedStoreData,R=I.showStoreDetails,k=I.isMarkerHasActive,x=P.dispatch,M=(0,y.Sz)(),L=(0,y.oW)(),W=(0,y.aU)(),H=(0,y.Jd)(W,et,"StoreMap"),V=(null==H?void 0:null===(S=H.data)||void 0===S?void 0:S.notShowMap)||!1,q=(0,a.useRef)(null),B=(0,v.ag)(),Y=(0,a.useMemo)(function(){return K(w)?w:U},[U,w]),z=(0,a.useMemo)(function(){return{bootstrapURLKeys:{key:"AIzaSyAbE7zeAOcous84QCZUyC9h6uIuLwYi9LU",language:L.lang,libraries:["places","geometry","drawing","visualization"]},center:D,zoom:N||k?14:"hk"===W?12:7,yesIWantToUseGoogleMapApiInternals:!0,options:function(){return{draggable:!0,gestureHandling:"tablet"===B?"greedy":""}}}},[D,N,B]);return a.createElement("div",{className:o("mi-store-map",{"with-center":K(Y)})},V&&a.createElement("div",{className:"not-show-map-tip"},a.createElement("span",null,"請點擊左側網點瞭解更多")),!M&&!V&&a.createElement($.ZP,(e=en({},z),t=t={onGoogleApiLoaded:function(e){var t=e.map;q.current=t,t.panTo(en({},D))}},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e),O.map(function(e,t){var r=e.latitude,n=e.longitude,o=e.id;return!!Number(r)&&!!Number(n)&&a.createElement(X,{storeListNum:O.length,key:"".concat(t,"-").concat(o),highlightId:t,lat:Number(r),lng:Number(n),storeData:e})})),K(Y)&&!V&&a.createElement("div",{className:"center-control",onClick:function(){q.current&&q.current.panTo(en({},Y)),x({type:u.UPDATE_ACTIVE_ITEM,payload:""})},role:"button",tabIndex:0},a.createElement("img",{className:"center-control__icon",src:"//i01.appmifile.com/webfile/globalimg/wheretobuy/location.png",alt:"go center"})),R&&a.createElement(ee,{storeData:j}))}var eo=r(76319),ec=r(54854);function el(e){var t=e.word,r=e.updateSearchWord,n=e.userInput,o=e.setUserInput,c=e.userRealInput,l=(0,a.useContext)(f).dispatch,i=(0,y.YB)(),s=(0,a.useRef)(null),m=(0,ec.N)(function(e){e.trim()&&l({type:u.UPDATE_IS_SEARCH,payload:!0}),l({type:u.UPDATE_SEARCH_WORD,payload:e.trim()})},500,[t]);return(0,a.useEffect)(function(){return o(t)},[t]),a.createElement(eo.I,{ref:s,fullwidth:!0,placeholder:i.get("e9f125a37da23ffce0813eff03f37537"),value:n,onChange:function(e){var t=e.target.value;c.current=t,o(t),m(t)},onKeyPress:function(e){if("Enter"===e.key){var t;r(n),null===(t=s.current)||void 0===t||t.blur()}},prefix:a.createElement("i",{className:"micon micon-search-glass"}),suffix:(null==n?void 0:n.length)?a.createElement("i",{className:"micon micon-clear",onClick:function(){var e;o(""),r(""),null===(e=s.current)||void 0===e||e.focus()},role:"button",tabIndex:0}):null,className:"store-search-input"})}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function es(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,a.useState)(""))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ei(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],n=t[1],o=(0,a.useRef)(""),c=(0,a.useContext)(f),l=c.state.word,i=c.dispatch,s=(0,a.useCallback)(function(e){i({type:u.UPDATE_SEARCH_WORD,payload:e.trim()}),i({type:u.UPDATE_ACTIVE_ITEM,payload:""}),i({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!1})},[l]);return a.createElement("div",{className:"store-search"},a.createElement("div",{className:"store-search-bar"},a.createElement(el,{updateSearchWord:s,setUserInput:n,word:l,userInput:r,userRealInput:o})))}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function em(){var e,t=(0,y.YB)(),r=(0,a.useContext)(f),n=r.state.word,o=r.dispatch,c=function(e){if(Array.isArray(e))return e}(e=(0,a.useState)(""))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eu(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eu(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=c[0],i=c[1],s=(0,a.useRef)(null),m=(0,ec.N)(function(e){e.trim()&&o({type:u.UPDATE_IS_SEARCH,payload:!0}),o({type:u.UPDATE_SEARCH_WORD,payload:e.trim()})},500,[n]);return(0,a.useEffect)(function(){i(n)},[]),a.createElement("div",null,a.createElement(eo.I,{fullwidth:!0,placeholder:t.get("e9f125a37da23ffce0813eff03f37537"),prefix:a.createElement("i",{className:"micon micon-search-glass"}),suffix:(null==l?void 0:l.length)?a.createElement("i",{className:"micon micon-clear",onClick:function(){var e;i(""),o({type:u.UPDATE_SEARCH_WORD,payload:""}),null===(e=s.current)||void 0===e||e.focus()},role:"button",tabIndex:0}):null,className:"store-search-input-m active",onChange:function(e){var t=e.target.value;i(t),m(t)},onKeyPress:function(e){var t;"Enter"===e.key&&(i(t=l),o({type:u.UPDATE_SEARCH_WORD,payload:t.trim()}))},value:l,ref:s}))}var ep=r(30187),ef=r(49153),ed=r(32195);function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eE(e){var t,r=e.location,n=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(!1))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],c=!0,l=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{c||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ey(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=n[0],i=n[1],s=(0,v.ag)(),m=(0,y.Sz)(),p=(0,a.useContext)(ep.j),d=(0,a.useContext)(ef.n).data.point,b=(0,a.useContext)(f),T=b.dispatch,A=b.state,_=A.activeTab,h=A.showStoreDetails,S=(0,a.useCallback)(function(e){e!==_&&T({type:u.UPDATE_ACTIVE_TAB,payload:e})},[_,T]);return(0,a.useEffect)(function(){return p.getService(),function(){p.resetService()}},[]),(0,a.useEffect)(function(){r&&K(d)&&T({type:u.UPDATE_APP_CENTER,payload:d})},[r,d]),(0,a.useEffect)(function(){var e=document.querySelector(".service-map-index");return"mobile"===s&&document.body.classList.add("mistore"),"mobile"!==s||m||(0,ed.Mu)()||!e||(e.style.height=window.innerHeight-48+"px"),function(){document.body.classList.remove("mistore"),e&&(e.style.height="")}},[s]),a.createElement("div",{className:o("service-map-index",{"service-map-index--app":(0,ed.Mu)()})},(0,ed.Mu)()||"mobile"===s?a.createElement("div",{className:"service-map-index__mobile"},!h&&a.createElement("div",{className:c()({"service-data-control":!0,"service-control-fill":!!l,"service-control--in-app":(0,ed.Mu)()})},a.createElement("div",{className:"service-search-control"},a.createElement(em,null),a.createElement(g.q,{symbol:"filter",onClick:function(){i(!0)}})),!l&&a.createElement(E,{updateTab:S}),l&&a.createElement(x,{closeFilterActive:function(){return i(!1)}})),!l&&a.createElement("div",{className:"mi-service-m__main hide-pc"},"list"===_?a.createElement(Z,null):a.createElement(ea,null))):a.createElement("div",{className:"service-map-index__pc"},a.createElement("div",{className:"service-data-control__pc"},a.createElement(es,null),a.createElement(x,null),a.createElement(Z,null)),a.createElement("div",{className:"service-main-content"},a.createElement(ea,null))))}var ev=r(54074),eb=r(20651),eg=r(79292),eT=r(98070),eA=r(41455),e_=/^[a-z]{2}-[a-z]{2}$/;function eh(){var e=(0,v.ag)(),t=(0,y.aU)(),r=(0,a.useContext)(f),n=r.state,o=n.word,c=n.position,l=n.productType,i=n.serviceway,s=n.isSearch,m=r.dispatch,p=(0,a.useContext)(B),d=(0,eb.W)("location"),E=(0,a.useRef)(),b=function(){var e,r=d?{location:encodeURIComponent(d)}:{},n={};K(c)&&(n.latitude=c.lat,n.longitude=c.lng),p.getService({params:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({city:o||void 0,country:(e=t,e_.test(e)&&(e=(0,eA.ER)(e).apiLocal),"uk"===e?"gb":e),languageId:(0,eT.B)(t),pageNo:1,pageSize:1e3,serviceway:i,productType:l,orgType:[]},r,n)},function(e){s&&(0,A.otClick)({tip:"16.107.1.0.28647",elementName:"mapsearch",elementTitle:e.data.orgList.length>0?"success":"fail",searchWord:o,pageType:"support_service-centre",isOpenGA:!0}),m({type:u.UPDATE_IS_SEARCH,payload:!1})})};return(0,a.useEffect)(function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,r=t.latitude,n=t.longitude;m({type:u.UPDATE_POSITION,payload:{lng:n,lat:r}})})},[]),(0,a.useEffect)(function(){m({type:u.UPDATE_ACTIVE_ITEM,payload:""}),m({type:u.UPDATE_SELECTED_STORE_DATA,payload:{}}),m({type:u.UPDATE_SHOW_STORE_DETAILS,payload:!1}),b()},[o,c,l,i,d]),(0,a.useEffect)(function(){return("mobile"===e&&"tablet"===E.current||"tablet"===e&&"mobile"===E.current)&&m({type:u.UPDATE_ACTIVE_ITEM,payload:""}),function(){E.current=e}},[e]),a.createElement(a.Fragment,null,a.createElement(eE,{location:d}))}function eS(){var e=(0,y.oW)();return(0,eb.W)("location")||window.hasRequestPosition||(0,eg.rG)(),(0,a.useEffect)(function(){window.hasRequestPosition=!0},[]),a.createElement(ev.Su,{siteConfig:e,isAutoFetch:!1},a.createElement(ep.f,{siteConfig:e,isAutoFetch:!1},a.createElement(Y,{siteConfig:e,isAutoFetch:!1},a.createElement(d,null,a.createElement(eh,null)))))}function eD(){return a.createElement(eS,null)}let eC=eD}}]);