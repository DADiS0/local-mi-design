"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["5076"],{25470:function(e,t,r){r.d(t,{k:()=>q,X:()=>L});var n=r(67294),a=r(16550),o=r(48597),i=r(86690),c=r(29183),u=r(40515),l=r(79894),s=r(71766),f=r(94184),d=r.n(f),m=r(27685),p=r(73444),y=r(25185),b=r(25228);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=(0,o.YB)(),r=(0,b.ag)(),a=e.className,i=void 0===a?"":a,c=e.usage,u=void 0===c?"display":c,l=e.totalStars,s=void 0===l?5:l,f=e.lightUpStars,m=void 0===f?0:f,p=e.onClick,v=h((0,n.useState)(-1),2),S=v[0],_=v[1],E=h((0,n.useState)(0),2),A=E[0],w=E[1];function N(e){"rate"===u&&"function"==typeof p&&p(e)}var k=[t.get("33cf5ec0ada0b91b96379f7a2e7dd558"),t.get("0e94d01753f69bda9b5060a18994540d"),t.get("b1897515d548a960afe49ecf66a29021"),t.get("0c6ad70beb3a7e76c3fc7adab7c46acc"),t.get("fcc2d28a33d2df558f18766e067569c6")],C=function(e){"mobile"===r?N(e):_(e)},O="feed-back";return n.createElement("div",{className:d()(O,g({},i,!!i))},n.createElement("div",{className:"".concat(O,"__list"),role:"radiogroup","aria-labelledby":"a11y-feedback-stars"},Array.from({length:Math.floor(s)},function(){return null}).map(function(e,t){return n.createElement("div",{key:t,className:"".concat(O,"__item"),role:"radio","aria-checked":A===t,tabIndex:A===t?0:-1,onKeyDown:function(e){if("Enter"===e.key||" "===e.key)e.preventDefault(),N(t+1),w(t);else if("ArrowLeft"===e.key||"ArrowUp"===e.key){var r,n=0===t?s-1:t-1;w(n);var a=0===t?null===(r=e.currentTarget.parentElement)||void 0===r?void 0:r.lastElementChild:e.currentTarget.previousElementSibling;a&&a.focus(),N(n+1),e.preventDefault()}else if("ArrowRight"===e.key||"ArrowDown"===e.key){var o,i=t===s-1?0:t+1;w(i);var c=t===s-1?null===(o=e.currentTarget.parentElement)||void 0===o?void 0:o.firstElementChild:e.currentTarget.nextElementSibling;c&&c.focus(),N(i+1),e.preventDefault()}}},n.createElement(y.q,{symbol:"star",className:d()("".concat(O,"__star"),"".concat(O,"__star--top"),g({},"".concat(O,"__star--interactive"),"rate"===u)),style:{width:Math.floor(S)>t?"100%":Math.floor(m)>t?"100%":Math.ceil(m)>t?"".concat(m%1*100,"%"):"0"},onClick:function(){return N(t+1)},onMouseEnter:function(){return C(t+1)},onMouseLeave:function(){return _(-1)}}),n.createElement(y.q,{symbol:"star",className:d()("".concat(O,"__star"),"".concat(O,"__star--bottom"),g({},"".concat(O,"__star--interactive"),"rate"===u)),onClick:function(){return N(t+1)},onMouseEnter:function(){return C(t+1)},onMouseLeave:function(){return _(-1)}}))})),n.createElement("span",{id:"a11y-feedback-stars",className:"".concat(O,"__text")},S>-1?k[S-1]:m>-1?k[m-1]:""))}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w="mi-textarea";function N(e){var t,r=e.className,a=e.getInputValue,o=e.value,i=A((0,n.useState)(!1),2),c=i[0],u=i[1],l=A((0,n.useState)(o),2),s=l[0],f=l[1],m=d()(w,(E(t={},"".concat(r),r),E(t,"".concat(w,"--active"),c),t)),p=function(e){u(!1),a(e)},y=function(e){f(e.substring(0,500))};return n.createElement("div",{className:m},n.createElement("textarea",{value:s,onFocus:function(){u(!0)},onBlur:function(e){return p(e.target.value)},onChange:function(e){return y(e.target.value)}}))}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C="feed-question";function O(e){var t,r=(0,o.YB)(),a=e.type,i=e.choiceType,c=e.question,u=e.isEmpty,l=e.onChangeInfo,s=e.questionId,d=e.answerList,y=e.inputValue,b=e.isMoreClass,v=e.className,g=r.get("64b5ea4592df8a97beab501ec833f1f0");return 64739e4===a&&64739e4===i?n.createElement("div",{className:"".concat(C)},n.createElement("div",{className:f("".concat(C,"__detail--radio-box"),k({},v||"",!!v))},n.createElement("span",{className:"".concat(C,"__detail-question")},c),u&&n.createElement("span",{className:"".concat(C,"__detail-err")},g),n.createElement("div",{"aria-hidden":"true",className:"".concat(C,"__detail-answer"),tabIndex:-1,onFocus:function(e){e.currentTarget.querySelectorAll("i")[0].setAttribute("tabindex","0")},onKeyDown:function(e){if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();var t,r=e.currentTarget.querySelectorAll("i"),n=Array.from(r).findIndex(function(e){return e===document.activeElement});r.forEach(function(e){e.setAttribute("tabindex","-1")}),t="ArrowUp"===e.key?n>0?n-1:r.length-1:n<r.length-1?n+1:0;var a=r[t];null==a||a.focus()}}},d.map(function(e,t){return n.createElement("div",{className:"".concat(C,"__detail--radio-item"),key:t},n.createElement(m.Z,{"aria-labelledby":"question-".concat(s,"-").concat(t),className:"".concat(C,"__detail--radio"),selectedValue:y,value:String(t),onChange:function(){return l(String(t),s)}}),n.createElement("span",{id:"question-".concat(s,"-").concat(t),className:"".concat(C,"__detail-text")},e))})))):0x26966331===a?n.createElement("div",{className:"".concat(C)},n.createElement("div",{className:f("".concat(C,"__detail--input-box"),(k(t={},"".concat(C,"__detail--no-space"),void 0!==b&&b),k(t,v||"",!!v),t))},n.createElement("span",{id:"a11y_question",className:"".concat(C,"__detail-question")},c),n.createElement(N,{"aria-labelledby":"a11y_question",className:f("".concat(C,"__detail-input"),k({},v||"",!!v)),getInputValue:function(e){return l(e,s)},value:y?String(y):""}))):0x26966332===a?n.createElement("div",{className:"".concat(C)},n.createElement("div",{className:f("".concat(C,"__detail--star-box"),k({},v||"",!!v))},n.createElement("span",{className:"".concat(C,"__detail-question")},c),u&&n.createElement("span",{className:"".concat(C,"__detail-err")},g),n.createElement("div",{className:"".concat(C,"__detail-star")},n.createElement(S,{usage:"rate",lightUpStars:Number(y),onClick:function(e){return l(e,s)}})))):64739e4===a&&0x26966331===i?n.createElement("div",{className:"".concat(C)},n.createElement("div",{className:f("".concat(C,"__detail--radio-box ").concat(C,"__detail--checkout-box"),k({},v||"",!!v))},n.createElement("span",{className:"".concat(C,"__detail-question")},c),u&&n.createElement("span",{className:"".concat(C,"__detail-err")},g),n.createElement("div",{"aria-hidden":"true",className:"".concat(C,"__detail-answer ").concat(C,"__detail-answer-checkout"),tabIndex:-1,onFocus:function(e){e.currentTarget.querySelectorAll("i")[0].setAttribute("tabindex","0")},onKeyDown:function(e){if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();var t,r=e.currentTarget.querySelectorAll("i"),n=Array.from(r).findIndex(function(e){return e===document.activeElement});r.forEach(function(e){e.setAttribute("tabindex","-1")}),t="ArrowUp"===e.key?n>0?n-1:r.length-1:n<r.length-1?n+1:0;var a=r[t];null==a||a.focus()}}},d.map(function(e,t){return n.createElement("div",{className:"".concat(C,"__detail--checkout-item"),key:t},n.createElement(p.Z,{className:"".concat(C,"__detail--checkout"),onChange:function(){return l(t,s)},checked:String(y).includes(String(t)),"aria-labelledby":"question-checkbox-".concat(s,"-").concat(t)}),n.createElement("span",{id:"question-checkbox-".concat(s,"-").concat(t),className:"".concat(C,"__detail-text")},e))})))):n.createElement(n.Fragment,null)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q={1:["support",{c:2,e:32881}],2:["support_service-centre",{c:4,e:32882}],3:["support_spare-parts-price",{c:3,e:32884}],4:["support_service-progress",{c:3,e:32883}],5:["support_aftersales_applylist_feedback",{c:2,e:32889}]};function L(e){var t=e.successFunc,r=e.propsQuestionList,f=e.propsMsfpSurveyId,d=e.propsMsfpSurveyName,m=e.propsUserId,p=e.getNewListInfo,y=e.className,b=e.type,v=(0,o.YB)(),g=(0,o.oW)(),h=(0,n.useContext)(c.J),S=(0,a.TH)().state,_=V((0,n.useState)(r),2),E=_[0],A=_[1],w=V((0,n.useState)(""),2),N=w[0],k=w[1],C=V((0,n.useState)(!1),2),x=C[0],L=C[1],M=function(e){var r=e.map(function(e){return{questionId:e.questionId,msfpSourcequestionidentifier:e.sourceQuestionIdentifier,answer:e.inputValue?String(e.inputValue):""}});h.getService({params:{code:m||"",workorderId:(null==S?void 0:S.workorderId)||"",msfpSurveyId:f||"",msfpSurveyName:d||"",dataList:r,country:g.local}},function(e){L(!1),(0,i.otClick)({tip:q[b][1],pageType:q[b][0],elementName:5===b?"feedback":"selfservice-feedback",elementTitle:"submit",isOpenGA:!0}),(null==e?void 0:e.errNo)===200?t(!0):k((null==e?void 0:e.errMsg)||"")})},T=function(){var e=!1,t=E.map(function(t){return 0x26966331===t.type||t.inputValue||(e=!0),j(I({},t),{isEmpty:!t.inputValue})});A(t),!x&&(e||(M(t),L(!0)))},D=function(e,t){var r=0,n=0,a=E[0],o=E.map(function(o,i){if(o.questionId!==t)return o;if(64739e4===o.type){if(0x26966331===o.choiceType){var c,u="",l=o.noShowValue||"";u=o.inputValue&&String(o.inputValue).indexOf(String(e))>-1?String(o.inputValue).split(",").filter(function(t){return t!==String(e)}).join(","):o.inputValue?o.inputValue+","+e:String(e);var s=o.inputValue&&String(o.inputValue).includes(String(o.answerList.length-1));o.dataChildList&&64739e4===o.type&&e===o.answerList.length-1&&s?(r=2,n=i+1,l=String(E[i+1].inputValue)||""):o.dataChildList&&64739e4===o.type&&e===o.answerList.length-1&&(r=1,n=i+1,a=j(I({},o.dataChildList[0]),{isEmpty:!1,question:"",isMoreClass:!0,inputValue:o.noShowValue||""})),c=j(I({},o),{inputValue:u,noShowValue:l,isEmpty:!u})}else c=j(I({},o),{inputValue:e,isEmpty:!e})}else if(0x26966332===o.type&&o.dataChildList){if(n=i+1,Number(e)>3){var f=String(E[i+1].inputValue)||"";!1===o.isAddMoreQuestion||void 0===o.isAddMoreQuestion?c=j(I({},o),{inputValue:e,isAddMoreQuestion:!1,noShowValue:o.noShowValue,isEmpty:!e}):(r=2,c=j(I({},o),{inputValue:e,isAddMoreQuestion:!1,noShowValue:f,isEmpty:!e}))}else o.isAddMoreQuestion?r=0:(r=1,a=j(I({},o.dataChildList[0]),{isEmpty:!1,inputValue:"undefined"===o.noShowValue?"":o.noShowValue})),c=j(I({},o),{inputValue:e,isAddMoreQuestion:!0,isEmpty:!e})}else c=j(I({},o),{inputValue:e,isEmpty:!e});return c});1===r?o.splice(n,0,a):2===r&&o.splice(n,1),A(o),p&&p(o)};return n.createElement(n.Fragment,null,E.map(function(e){return n.createElement(O,j(I({},e),{onChangeInfo:D,key:e.questionId,className:y}))}),n.createElement("span",{className:"feedback__privacy"},n.createElement(u.b,{inputStr:v.get("1371619ec9ccc7d1d167c04d7f90d2d2",{n1:"#@@#".concat(v.get("ca0f9a86ca33f1d6baa9051bd7f4ed21"),"#@@#")}),target:"_blank",linkArr:["".concat(g.wwwSite.pc,"/about/privacy")]})),n.createElement(l.z,{className:"feedback__btn",onClick:function(){return T()}},v.get("a4d3b161ce1309df1c4e25df28694b7b")),n.createElement(s.F,{msg:N,callback:function(){return k("")},type:"error",className:"mi-address__toast"}))}},72259:function(e,t,r){r.d(t,{c:()=>s,o:()=>l});var n=r(67294),a=r(48785),o=r(81845),i=r(25228);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,a.o)(f),l=(0,n.createContext)(u);function s(e){var t,r=e.siteConfig,a=e.isAutoFetch,s=e.children,d=(0,i.ag)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(u))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=m[0],y=m[1];function b(e){var t=e.body,r=(null==e?void 0:e.errmsg)||(null==e?void 0:e.message),n=(null==e?void 0:e.errno)||(null==e?void 0:e.statusCode);return{errMsg:String(r),errNo:Number(n),data:f(t||[])}}var v={url:"".concat(r.apiSite,"/crm/api/XGetQuestion"),method:"POST",basicParams:{from:"mobile"===d?"mobile":"pc"},headers:{"Content-Type":"application/json"},retryOptions:{maxRetryAttempts:3,scalingDuration:3e3},withCredentials:!1};return n.createElement(o.h,{context:l,setState:y,defaultValue:u,adapterError:function(e){return b(e)},adapter:b,value:p,siteConfig:r,isAutoFetch:!0===a,ajaxConfig:v},s)}function f(e){return{dataList:function e(t){return t.map(function(t){return{question:t.question||"",type:t.type||0,choiceType:t.choiceType||0,answerList:t.answerList||[],questionId:t.msfpQuestionId||"",sourceQuestionIdentifier:t.msfpSourcequestionidentifier||"",dataChildList:t.dataChildList&&e(t.dataChildList)||null}})}(Array.from(e.dataList||[])),msfpSurveyId:e.msfpSurveyId,msfpSurveyName:e.msfpSurveyName}}},29183:function(e,t,r){r.d(t,{J:()=>l,j:()=>s});var n=r(67294),a=r(48785),o=r(81845),i=r(25228);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,a.o)(f),l=(0,n.createContext)(u);function s(e){var t,r=e.siteConfig,a=e.isAutoFetch,s=e.children,d=(0,i.ag)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(u))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){c=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=m[0],y=m[1];function b(e){var t=e.body,r=(null==e?void 0:e.errmsg)||(null==e?void 0:e.message),n=(null==e?void 0:e.errno)||(null==e?void 0:e.statusCode);return{errMsg:String(r),errNo:Number(n),data:f(t)}}var v={url:"".concat(r.apiSite,"/crm/api/XSaveAnswer"),method:"POST",basicParams:{from:"mobile"===d?"mobile":"pc"},headers:{"Content-Type":"application/json"},retryOptions:{maxRetryAttempts:3,scalingDuration:3e3},withCredentials:!0};return n.createElement(o.h,{context:l,setState:y,defaultValue:u,adapterError:function(e){return b(e)},adapter:b,value:p,siteConfig:r,isAutoFetch:!0===a,ajaxConfig:v},s)}function f(e){return e}},98070:function(e,t,r){r.d(t,{B:()=>a});var n={"ae-ar":1025,at:1031,cz:1029,de:1031,it:1040,es:3082,fr:1036,gr:1032,nl:1043,pl:1045,jp:1041,ru:1049,ro:1048,vn:1066,th:1054,eg:1025,sa:1025,se:1053,mx:3082,id:1057,tr:1055,hk:3076,tw:1028,cl:3082,co:3082,pe:3082,kr:1042,"be-nl":1043,"be-fr":1036,"kz-ru":1049,"kz-kk":1087,default:1033},a=function(e){return n[e]||n.default}}}]);