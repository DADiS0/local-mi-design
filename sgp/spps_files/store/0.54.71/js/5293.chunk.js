"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["5293"],{37828:function(e,t,r){r.d(t,{g:()=>w});var n=r(67294),a=r(96494),o=r(25185),i=r(57453),l=r(94184),c=r.n(l),u=r(57357),s=r(48597);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t,r,l=e.className,d=e.authId,p=e.maxSize,y=e.icon,v=e.tag,b=void 0===v?"":v,h=e.accept,g=e.disabled,S=e.showUploading,E=e.beforeUpload,w=e.customUpload,A=e.onSuccess,_=e.onUpError,N=e.extra,C=(0,s.aU)(),k=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=k[0],x=k[1],O=(0,n.useContext)(i.p),I=(0,n.useRef)(null),U="mi-upload",D=c()(U,(m(r={},"".concat(l),!!l),m(r,"".concat(U,"--loading"),j),r));function M(e,t){Object.keys(t).forEach(function(r){e[r]=t[r]})}return n.createElement("div",{className:D},n.createElement("input",{type:"file",className:"".concat(U,"__input"),ref:I,accept:h,disabled:void 0!==g&&g,onChange:function(e){var t=e.target.files;t&&(function(e){x(!0);var t=0;Array.from(e).forEach(function(r){var n,a={uid:(0,u.Z)(),name:r.name,size:r.size,tag:b,status:"ready",raw:r};if(n=a,p&&n.size>1048576*p?("function"==typeof E&&E(n,!1),!1):"function"!=typeof E||E(n,!0)){if(w)w(a).then(function(e){if(!e)throw Error("fileUrl is empty");++t,M(a,{status:"success",responseData:e?[e]:void 0,errNo:0,errMsg:""}),"function"==typeof A&&A(a)}).catch(function(e){++t,M(a,{errNo:(null==e?void 0:e.errNo)||0,errMsg:(null==e?void 0:e.errMsg)||(null==e?void 0:e.message),status:"error"}),"function"==typeof _&&_(a)}).finally(function(){t>=e.length&&x(!1)});else{var o=function(e){var t=new FormData;for(var r in e)t.append(r,e[r]);return t}({file:r,authId:d||0,area:C});O.getService({params:o},function(r){++t,0===r.errNo?(M(a,{status:"success",responseData:r.data,errNo:0,errMsg:""}),"function"==typeof A&&A(a)):(M(a,{errNo:r.errNo,errMsg:r.errMsg,status:"error"}),"function"==typeof _&&_(a)),t>=e.length&&x(!1)})}}})}(t),e.target.value="")}}),n.createElement("button",{className:"".concat(U,"__controller"),onClick:function(){I.current&&I.current.click()}},j&&void 0!==S&&S?n.createElement(a.a,{type:"inner"}):n.createElement(n.Fragment,null,n.createElement(o.q,{symbol:void 0===y?"camera":y,className:"".concat(U,"__icon")}),N&&n.createElement("span",{className:"".concat(U,"__extra")},N))))}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t,r,i,l=e.className,u=e.file,s=e.isShowDeleteButton,f=e.onDeleteClick,m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=m[0],v=m[1],b=!!(null===(r=u.raw)||void 0===r?void 0:r.type.startsWith("image/")),h="mi-upload-preview",g=c()(h,(y(i={},"".concat(h,"--success"),"success"===u.status),y(i,"".concat(l),!!l),y(i,"".concat(h,"--is-img"),b),i));return(0,n.useEffect)(function(){u.raw&&b&&v(URL.createObjectURL(u.raw))},[]),n.createElement("div",{className:g,style:{backgroundImage:b?"url(".concat(d,")"):""}},s&&"success"===u.status&&n.createElement("button",{className:"preview__delete"},n.createElement(o.q,{symbol:"close",className:"delete__icon",onClick:function(){return"function"==typeof f&&f(u)}})),!b&&n.createElement("p",{className:"preview__file-name"},u.name),n.createElement(a.a,{type:"inner",extClassNames:c()("preview__loader",{"preview__loader--hide":"success"===u.status})}))}v.defaultProps={isShowDeleteButton:!1};var b=r(32195);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,a)}function S(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}function w(e){var t=e.api,r=(0,s.oW)();return"apk"===t||"custom"===t?n.createElement(i.r,{siteConfig:r},n.createElement(d,e)):n.createElement(n.Fragment,null)}w.Preview=v,w.UploadToBase64=function(e){var t,r,a,i,c,s,f=e.className,m=e.maxSize,d=void 0===m?10:m,p=e.maxLength,y=void 0===p?5:p,v=e.disabled,h=void 0!==v&&v,w=e.accept,A=e.icon,_=e.isShowDeleteButton,N=void 0===_||_,C=e.onChange,k=e.onUpError,j=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)([]))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||E(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=j[0],O=j[1],I=(0,n.useRef)(null),U=(r=function(e){var t,r,n,a,o,i,l,c,s,f,m,p;return function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(v){switch(v.label){case 0:if(!(t=e.target.files))return[3,9];r=[],n=!0,a=!1,o=void 0,v.label=1;case 1:v.trys.push([1,6,7,8]),i=Array.from(t)[Symbol.iterator](),v.label=2;case 2:var b;if(n=(l=i.next()).done)return[3,5];if(s=(c=l.value).type||"unknown",c.size>1048576*d||w&&!w.includes(s))return k&&k(),[2];return[4,(b=c,new Promise(function(e){var t=new FileReader;t.readAsDataURL(b),t.onload=function(t){var r;e(((null===(r=t.target)||void 0===r?void 0:r.result)||"").toString())}}))];case 3:"uploadFail"!==(f=v.sent())&&t&&(m={id:(0,u.Z)(),docName:c.name,docContent:f,docType:s},r.push(m)),v.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return p=v.sent(),a=!0,o=p,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(a)throw o}return[7];case 8:O(function(e){var t=S(e).concat(S(r));return t.length>y?(k&&k(),t.splice(0,y)):t}),v.label=9;case 9:return[2]}})},a=function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(e){g(o,n,a,i,l,"next",e)}function l(e){g(o,n,a,i,l,"throw",e)}i(void 0)})},function(e){return a.apply(this,arguments)}),D=function(e){O(function(t){return t.filter(function(t){return t.id!==e})})};return(0,n.useEffect)(function(){C&&C(x)},[x]),n.createElement("div",{className:l("mi-upload-base64",(i={},c="".concat(f),s=!!f,c in i?Object.defineProperty(i,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[c]=s,i))},n.createElement("input",{type:"file",className:"mi-upload-base64__input",ref:I,accept:w,disabled:h,onChange:U,multiple:!0}),n.createElement("button",{className:l("mi-upload-base64__controller",{"mi-upload-base64__disabled":h}),onClick:function(){!h&&I.current&&I.current.click()}},n.createElement(o.q,{symbol:void 0===A?"camera":A,className:"mi-upload-base64__icon"})),null==x?void 0:x.map(function(e){return n.createElement("div",{className:"mi-upload-base64-preview",key:e.id},N&&n.createElement("div",{className:"delete-mask"},n.createElement(o.q,{symbol:"close",className:l({"delete-mask-icon":!0,"delete-icon-in-app":(0,b.Od)()}),onClick:function(){return D(e.id)}})),e.docType.includes("image")?n.createElement("img",{key:e.id,src:e.docContent.toString(),alt:""}):n.createElement("div",{className:"file-name"},n.createElement("span",null,e.docName.length>30?"".concat(e.docName.slice(0,33)," ..."):e.docName)))}))}},57453:function(e,t,r){r.d(t,{p:()=>c,r:()=>u});var n=r(67294),a=r(48785),o=r(81845);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,a.o)(s),c=(0,n.createContext)(l);function u(e){var t,r=e.siteConfig,a=e.isAutoFetch,u=e.children,f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l))||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],d=f[1];function p(e){var t=e.urls,r=e.message,n=e.code;return{data:s(t||[]),errMsg:String(r||""),errNo:Number(n||0)}}var y={url:"".concat(r.uploadSite,"/upload/uploadapk"),method:"POST",withCredentials:!1};return n.createElement(o.h,{context:c,setState:d,defaultValue:l,adapterError:function(e){return p(e)},adapter:p,value:m,siteConfig:r,isAutoFetch:!0===a,ajaxConfig:y},u)}function s(e){return e||[]}}}]);