"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["6628"],{10006:function(e,t,r){r.r(t),r.d(t,{DailyPicksList:()=>A,default:()=>T});var n=r(67294),o=r(27484),c=r(70178),a=r(29387),i=r(94184),l=r(96494),u=r(79894),s=r(80946),f=r(7124),d=r(49133),m=r(88476),p=r(68544);function y(e){var t,r;return n.createElement(p.l,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),r=r={isShowMarketingInfo:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}var b=r(59155);function g(e){var t,r;return n.createElement(b.Q,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),r=r={btnShowType:"icon"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}var v=r(40240);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t,r,c=e.activeIndex,a=e.basicClassName,i=e.otTipOffsetD,l=void 0===i?0:i,u=e.children,s=e.actId,p=e.endTime,b=e.startTime,h=e.serverTime,S=e.requestTime,j=e.updateActivityList,E=e.otClick,w=e.otModule,_=e.otExpose,P=e.layoutIndex;o.extend(f),o.extend(d);var x=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)("finished"))||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(c.push(r.value),c.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=x[0],I=x[1];return n.createElement(m.b,{basicClassName:"".concat(a,"__list"),actId:s,endTime:p,startTime:b,serverTime:h,requestTime:S,updateActivityList:j,handleStatusCallback:function(e){return I(e)},allowHeaderCountdown:!0,activityDateTime:"date-week-time",countDownType:"icon",isAddAnchor:!0,headerClick:function(e){var t,r,n={tip:{c:"".concat(w,"-",1),d:l+1},link:"".concat(u[0].buyUrl),goodsId:(null===(t=u[0].goodsIdList)||void 0===t?void 0:t[0])||0,promotionId:"".concat(s),creativeSlot:"".concat(1),elementName:"".concat(D),elementTitle:"learn_more",itemName:u[0].title,tag:(null===(r=u[0].marketingInfo)||void 0===r?void 0:r.installment)?"inter":""};e.stopPropagation(),E(Object.assign({},n,{event:"select_item"})),(0,v.MN)("".concat(u[0].buyUrl))}},n.createElement(n.Fragment,null,u.map(function(e,t,r){return n.createElement(y,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({key:"".concat(t,"-").concat(e.childId),activityId:s,itemIndex:t,listIndex:c,listLength:r.length,statusName:D,basicClassName:"".concat(a),otClick:E,otModule:w,otExpose:_,otTipOffsetD:l,layoutIndex:P},e))}),n.createElement("div",{className:"".concat(a,"__list-action"),onClick:function(e){return e.stopPropagation()},role:"button",tabIndex:0},n.createElement(g,{childId:u[0].childId,gotoUrl:u[0].buyUrl,isSubscribed:u[0].isSubscribed,basicClassName:"".concat(a),otClick:E,buryData:{tip:{c:"".concat(w,"-1"),d:l+c+1},link:"".concat(u[0].buyUrl),goodsId:null===(r=u[0].goodsIdList)||void 0===r?void 0:r[0],promotionId:"".concat(s),elementName:"remind",elementTitle:""}}))))}var S=r(33347),j=r(72235),E=r(9970),w=r(48597),_=r(25228),P=r(86690);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){D(e,t,r[t])})}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var c=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){var t=(0,w.oW)();return n.createElement(S.C9,{siteConfig:t},n.createElement(j.Z,{siteConfig:t},n.createElement(C,e)))}function C(e){var t=e.otClick,r=e.otExpose,f=e.otModule,d=e.skeletonData,m=e.layoutIndex,p="daily-picks-area",y=(0,w.YB)(),b=(0,w.oW)(),g=(0,_.ag)(),v=(0,w.Sz)(),O=(0,n.useRef)(null),j=(0,n.useContext)(E.__),x=(0,n.useContext)(S.$m),A=k((0,n.useState)(0),2),C=A[0],T=A[1],N=k((0,n.useState)(0),2),M=N[0],L=N[1],q=k((0,n.useState)(0),2),U=q[0],Y=q[1];o.extend(c),o.extend(a);var H=(0,n.useMemo)(function(){return x.data.filter(function(e){return 1===e.actType&&1e3*e.endTime>Date.now()+5e3}).flatMap(function(e){return e.children.length>1?e.children.map(function(t,r){var n,o;return n=I({},e),o=o={children:[e.children[r]]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n}):e})},[x.ajaxStatus,M]),z=(0,n.useMemo)(function(){return Array.from(new Set(H.map(function(e){return o(o(1e3*e.startTime).tz(b.dayjsTimezone).format("YYYY-MM-DD")).unix()})))},[H]);return(0,n.useEffect)(function(){(j.getServiceSuccess||d)&&(T(Math.floor(Date.now()/1e3)),x.getService())},[j.getServiceSuccess,d]),(0,n.useEffect)(function(){if(x.getServiceSuccess&&!d){var e=(0,P.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".".concat(p)),targetNodeSelector:"[data-ot-expose]"},function(e,t){var n;return"function"==typeof r&&r(e||{},String((null==e?void 0:null===(n=e.tip)||void 0===n?void 0:n.c)||""))});return function(){e&&e.disconnect()}}return function(){return null}},[x.getServiceSuccess]),(0,n.useEffect)(function(){if(x.getServiceSuccess){var e=document.querySelector(".site-header"),t=(null==e?void 0:e.clientHeight)||0,r=new IntersectionObserver(function(e){e.forEach(function(e){var r=e.intersectionRatio<1&&e.target.getBoundingClientRect().top<t+1;e.target.classList.toggle("".concat(p,"__aside--pinned"),r),r||Y(z[0])})},{rootMargin:"-".concat(t+1,"px 0px 0px 0px"),threshold:[0,1]});return O.current&&r.observe(O.current),function(){r&&r.disconnect()}}return function(){return null}},[x.getServiceSuccess,g]),(0,n.useEffect)(function(){if(x.getServiceSuccess){var e=document.querySelector(".site-header"),t=(null==e?void 0:e.clientHeight)||0,r=document.querySelector(".daily-picks-area__aside"),n=(null==r?void 0:r.clientHeight)||0,o=Array.from(document.querySelectorAll("[data-dpl-unix]")),c=t+n+1,a=new IntersectionObserver(function(e){e.forEach(function(e){if(!(e.intersectionRatio<=0)&&e.isIntersecting){var t=e.target,r=(null==t?void 0:t.getAttribute("data-dpl-unix"))||"";e.boundingClientRect.top<c&&Y(Number(r))}})},{rootMargin:"-".concat(c,"px 0px 0px 0px"),threshold:[.5,1]});return o.forEach(function(e){a.observe(e)}),function(){a&&a.disconnect()}}return function(){return null}},[x.getServiceSuccess,g]),(0,n.useEffect)(function(){z.length>0&&Y(z[0])},[z]),n.createElement("div",{className:"".concat(p)},v||["unsent","loading"].includes(x.ajaxStatus)?n.createElement("article",{className:"".concat(p,"__loading role-grid")},n.createElement(l.a,{type:"inner"})):"error"===x.ajaxStatus?n.createElement("article",{className:"".concat(p,"__error role-grid")},n.createElement(u.z,{className:"".concat(p,"__retry"),highlight:"enable",btnType:"primary",onClick:function(){x.getService()},"aria-label":y.get("6327b4e59f58137083214a1fec358855")},y.get("6327b4e59f58137083214a1fec358855"))):n.createElement(n.Fragment,null,z.length>0&&n.createElement("aside",{className:"".concat(p,"__aside"),ref:O},n.createElement("ul",{className:"".concat(p,"__date-list"),role:"heading","aria-level":3},z.map(function(e,t){return n.createElement("li",{key:t,className:i("".concat(p,"__date-item"),D({},"".concat(p,"__date-item--active"),U===e))},n.createElement("a",{href:"#".concat(e),onClick:function(){return Y(e)}},n.createElement(s.q,{timestamp:o.tz(o.unix(e).format("YYYY-MM-DD HH:mm:ss"),b.dayjsTimezone).valueOf(),showType:"onlyDateAbbrMD",isLocaleTimezone:!0})))}))),H.length>0&&n.createElement("main",{className:"".concat(p,"__main role-grid")},H.map(function(e,o){return n.createElement(h,I({key:"".concat(o,"-").concat(e.actId),activeIndex:o,requestTime:C,basicClassName:p,otClick:t,otModule:f,otExpose:r,updateActivityList:function(){return L(Date.now())},layoutIndex:m},e))})),0===H.length&&n.createElement("article",{className:"".concat(p,"__empty role-grid")},y.get("81151a1669ebd695e837f304a0d8ec79"))))}let T=A}}]);