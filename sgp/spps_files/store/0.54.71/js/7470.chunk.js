"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["7470"],{33718:function(e,r,t){t.d(r,{j:()=>l});var n=t(582),o=t(20833),a=t(55709);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r){return null!=r&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,u=!1;try{for(o=o.call(e);!(i=(t=o.next()).done)&&(a.push(t.value),!r||a.length!==r);i=!0);}catch(e){u=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(u)throw n}}return a}}(e,r)||m(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}}function l(e,r,t){return function(i){return i.pipe((0,n.n)(function(e){var r=c(e,4),t=(r[0],r[1]);return r[2],r[3],!Object.keys(t).length}),(0,o.b)(function(r){var t=c(r,4),n=t[0];return t[1],t[2],t[3],e(n||"")}),(0,a.U)(function(e){var r=c(e,4),t=(r[0],r[1]),n=r[2],o=r[3];return[o&&o.length?o.reduce(function(e,r){return n[r]&&(e[r]=n[r]),e},{}):n,Object.keys(t).map(function(e){return{key:e,title:t[e].name,list:"capacity"===e&&o&&o.length?o.map(function(r){return t[e].all[r]}):Object.keys(t[e].all).map(function(r){return t[e].all[r]})}})]}),(0,a.U)(function(e){var r=c(e,2),t=r[0],n=r[1],o=n.map(function(e){return e.list?(e.list||[]).map(function(e){return e.name||""}):[]}),a=(((function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skuName:[]},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t||!t.length||o&&o>=t.length||!r)return[];var a=[];return Object.keys(r).forEach(function(i){var c={skuName:s(Array.from(n.skuName||[])).concat([i])};if(o+1===t.length&&(a=s(a).concat([c])),r[i].next&&u(r[i].next,Object)&&o+1<t.length){var m=e(r[i].next,t,c,o+1);a=s(a).concat(s(m))}}),a})(t,o)||[]).map(function(e){return e.skuName||[]})[0]||[]).map(function(e){return n[o.findIndex(function(r){return r.includes(e)})]});return[t,a]}),(0,a.U)(function(e){var r=c(e,2),t=r[0],n=r[1];return[function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skuName:[],skuIndex:[],goodsId:[]},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t||!t.length||o&&o>=t.length||!r)return[];var a=[];return Object.keys(r).forEach(function(i){var c=t[o].findIndex(function(e){return e===i}),m={skuName:s(Array.from(n.skuName||[])).concat([i]),skuIndex:s(Array.from(n.skuIndex||[])).concat([c]),goodsId:[]};if(o+1===t.length){var l=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n})}return e}({},r[i]);m.goodsId=Array.from(l.ids).map(function(e){return Number(e)}),a=s(a).concat([m])}if(r[i].next&&u(r[i].next,Object)&&o+1<t.length){var d=e(r[i].next,t,m,o+1);a=s(a).concat(s(d))}}),a}(t,n.map(function(e){return e.list?e.list.map(function(e){return e.name||""}):[]})),n]}),(0,a.U)(function(e){var r=c(e,2),n=r[0],o=r[1];return t&&"function"==typeof t?t(n,o):[n,o]}),(0,o.b)(function(e){var t=c(e,2),n=t[0],o=t[1],a=n.map(function(e){var r,t=e.goodsId,n=e.skuName,a=c(t,1)[0],i=n.map(function(e,r){return(o[r]&&o[r].list||[]).find(function(r){return r.name===e})}),u=(r=Object).assign.apply(r,[{}].concat(s(i)));return[Number(a||0),n,{tips:u.tips,img:u.img,rgb:u.rgb}]});r&&r(a)}),(0,a.U)(function(e){var r=c(e,2),t=r[0],n=r[1];return[t.map(function(e){return[e.skuIndex.join(","),e]}),n]}))}}},62991:function(e,r,t){t.d(r,{D:()=>m,z:()=>l});var n=t(67294),o=t(48785),a=t(81845),i=t(81848);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r){if(e){if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}}var s=(0,o.o)(d),m=(0,n.createContext)(s);function l(e){var r,t=e.siteConfig,o=e.isAutoFetch,u=e.children,l=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(s))||function(e,r){var t,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,u=!1;try{for(o=o.call(e);!(i=(t=o.next()).done)&&(a.push(t.value),a.length!==r);i=!0);}catch(e){u=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(u)throw n}}return a}}(r,2)||c(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=l[0],p=l[1];function y(e){var r=e.data,t=e.errmsg,n=e.errno;return{data:d(r||{}),errMsg:String(t),errNo:Number(n)}}var g={url:"".concat(t.goSite,"/misc/getgoodsinformation"),method:"GET",basicParams:{from:"pc"},retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[10001,23e3]}},_=(0,i.u)(g);return n.createElement(a.h,{context:m,setState:p,defaultValue:s,adapterError:function(e){return y(e)},adapter:y,value:f,siteConfig:t,isAutoFetch:!0===o,ajaxConfig:_},u)}function d(){var e,r,t,n,o,a,i,s,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{choiceData:{album:(e=JSON.parse(m.choice_data||"{}")).album||[],buyOutOf:e.buy_outof||"",category:e.category||"0",compareChoice:JSON.parse(e.compareChoice?e.compareChoice:"[]"),extra:{arViewData:Array.from((e.ext||{}).ars||[]).map(function(e){return{bgFileUrl:e.bg_url,fileUrl:e.file_url}})},goodsImages:Object.values(e.goods_images||{}),describe:e.describe||[],largeImage:e.image||"",miExchange:{isShow:1===Number((r=e.miexchange||{}).is_show||0),sectionTitle:r.title||"",imgUrl:r.logo||"",title:r.name||"",content:r.desc||"",urlText:r.url_name||"",urlLink:r.url||""},miExchangeFloat:{isShow:1===Number((t=e.miexchange_float||{}).is_show||0),imgUrl:t.img_url||"",linkUrl:t.url||""},sellingPoint:e.selling_point||"",eventOfferList:(e.offers||[]).map(function(e){return{content:e.content.replace(/<(\S*)[^>]*>[^<]*<\/(\1)>/gi,"").replace(/<br>/gi,"\n"),link:e.link}}),supportList:(e.support||[]).map(function(e){return{name:e.name.replace(/<(\S*)[^>]*>[^<]*<\/(\1)>/gi,"").replace(/<br>/gi,"\n"),link:e.link,note:e.note}}),skuRank:e.rank||{},skuTree:e.tree||{},skuList:e.skus||[],tips:e.tips||{},productTitle:e.title||"",productVideo:e.video||[],afterSaleRank:e.after_sale_rank||""},discount:{price:(n=m.discount||"{}").saleprice||"",marketPrice:n.marketprice||"",discountTitle:n.discount||""},goodsInformation:(m.goodsinformation||[]).map(function(e){return{goodsId:Number(e.id||0)||0,goodsName:e.name||"",goodsStyle:e.style_name||"",goodsTitle:e.product_name||"",goodsImage:e.image||"",commodityId:Number(e.commodity_id||0)||0,skuId:Number(e.sku||0)||0,currency:e.currency||"",isNotForSale:!!e.not_for_sale,isOnSale:!!e.is_sale,isOutOfStock:!!e.is_cos,maxBuyNum:e.buy_limit||1,minBuyNum:e.buy_limit_min||0,marketPrice:e.market_price||"0",price:e.price||"0",isReservation:!!e.is_deposit_presale,isPreSale:!!e.is_presale,isPreSaleOutOfStock:!!e.presale_cos,isBigTap:!!e.is_bigtap,isDaMiao:!!e.is_damiao,hasRecommend:!!e.has_recommend,hasPacket:!!e.has_packet,isNeedSubscribe:!!e.needSubscribe,goodsDealer:e.goods_dealer||"",tagName:e.tag||"",diff:e.diff||0,pbStart:e.pb_start||0,daMiaoStatus:e.status||0,daMiaoStatusName:e.status_name||"",daMiaoStatusUrl:e.status_url||"",mrpManufacturedFor:e.manufacturer_details||"",mrpManufacturedBy:e.manufacturer_by||"",mrpImporterDetails:e.importer_details||"",mrpProductCategory:e.cat_name||"",mrpCountryOrigin:e.country_origin||"",mrpMarketPrice:e.market_price_mrp||"",mrpSellingPrice:e.price_mrp||"",productId:Number(e.product_id||0),salePriceExclusiveVat:e.sale_price_exclusive_vat||""}}),equalPrice:!!m.equalprice,lowestPrice:m.lowestprice||"",highestPrice:m.highestprice||"",lowestMarketPrice:m.lowest_market_price||"",highestMarketPrice:m.highest_market_price||"",packSet:Object.keys(o=m.packset||[]).map(function(e){return o[e]}).filter(function(e){var r;return(null!=(r=Object)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r)&&e.product_id}).map(function(e){return{isOutOfStock:!!e.is_cos,isOnSale:!!e.is_sale,bundleId:Number(e.product_id||0),bundleName:e.product_name||"",bundleImage:e.image_url||"",price:Number(e.price||0),marketPrice:Number(e.market_price||0),elementsGoods:JSON.parse(e.elements_goods?e.elements_goods:"[]"),styleListInfo:JSON.parse(e.styleListInfo?e.styleListInfo:"[]").filter(function(e){return"{}"!==JSON.stringify(e)})}}),insurancesList:Object.keys(a=m.insuranceNew||{}).map(function(e){var r=Array.from(a[e].insurancedatalist||[]).reduce(function(e,r){var t,n;return e[r.sort||0]=((function(e){if(Array.isArray(e))return u(e)})(t=e[r.sort||0]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||c(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{sortIndex:Number((n=r).sort||0),insuranceId:Number(n.goods_id||0),insuranceTag:n.mark||"",insurancePrice:Number(n.price||0),insuranceMarketPrice:Number(n.market_price||n.price||0),insuranceSkuId:Number(n.sku||0),insuranceHtmlText:n.agree_content||"",insuranceValidPeriod:n.valid_period||"",insuranceIcon:n.image_url||"",insuranceTitle:n.insurance_name||"",insuranceDescribe:n.insurance_describe||"",learnMoreLink:n.learn_more_link||"",isBought:!1,isAdditional:!0,isDisabled:!1}]),e},[]).filter(function(e){return!!e});return{goodsId:Number(e||0),list:r}}),productType:m.productType||"",star:{commentsStar:(i=m.star||{}).comments_star||"",commentsTotal:i.comments_total||0,productId:Number(i.product_id||0)||0,scoreOneNum:i.one_star||0,scoreTwoNum:i.two_star||0,scoreThreeNum:i.three_star||0,scoreFourNum:i.four_star||0,scoreFiveNum:i.five_star||0,isShowGradeMark:!!i.show_grade_mark,goodsComments:Array.from(i.good_comment||[]),mediaComments:Array.from(i.media_comment||[]),topReviewComments:(i.essence_list||[]).map(function(e){return{userAvatar:e.user_avatar||"",userName:e.user_name||"",userId:Number(e.user_id||0),commentId:Number(e.comment_id||0),commentContent:e.comment_content||"",commentImage:e.comment_images||[],commentVideo:e.comment_video||[],commentVideoCover:e.comment_video_cover||[],commentStar:Number(e.total_grade||0),commentTime:Number(e.add_time||0),goodsName:e.goods_name||"",goodsType:e.spec_value||""}}),selectedUserComments:Array.from(i.selected_comments||[]),selectedMediaComments:Array.from(i.selected_media_comments||[])},earnestData:{text:(s=m.earnest_data||{}).flow_text||"",link:s.flow_url||""},showDelivery:!!m.show_delivery,showMrp:!!m.show_mrp,showAlwaysNext:!!m.show_alwaysnext,isHiddenSpec:!!m.is_hidden_spec}}}}]);