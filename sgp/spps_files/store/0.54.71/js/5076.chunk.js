"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["5076"],{25470:function(e,t,n){n.d(t,{k:()=>x,X:()=>L});var r=n(67294),a=n(16550),i=n(48597),o=n(86690),c=n(29183),u=n(40515),l=n(79894),s=n(71766),f=n(94184),d=n.n(f),m=n(27685),p=n(73444),y=n(25185),b=n(25228);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t,n=(0,i.YB)(),a=(0,b.ag)(),o=e.className,c=void 0===o?"":o,u=e.usage,l=void 0===u?"display":u,s=e.totalStars,f=e.lightUpStars,m=void 0===f?0:f,p=e.onClick,h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(-1))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=h[0],S=h[1];function E(e){"rate"===l&&"function"==typeof p&&p(e)}var N=[n.get("33cf5ec0ada0b91b96379f7a2e7dd558"),n.get("0e94d01753f69bda9b5060a18994540d"),n.get("b1897515d548a960afe49ecf66a29021"),n.get("0c6ad70beb3a7e76c3fc7adab7c46acc"),n.get("fcc2d28a33d2df558f18766e067569c6")],A=function(e){"mobile"===a?E(e):S(e)},w="feed-back";return r.createElement("div",{className:d()(w,g({},c,!!c))},r.createElement("ul",{className:"".concat(w,"__list")},Array.from({length:Math.floor(void 0===s?5:s)},function(){return null}).map(function(e,t){return r.createElement("li",{key:t,className:"".concat(w,"__item")},r.createElement(y.q,{symbol:"star",className:d()("".concat(w,"__star"),"".concat(w,"__star--top"),g({},"".concat(w,"__star--interactive"),"rate"===l)),style:{width:Math.floor(_)>t?"100%":Math.floor(m)>t?"100%":Math.ceil(m)>t?"".concat(m%1*100,"%"):"0"},onClick:function(){return E(t+1)},onMouseEnter:function(){return A(t+1)},onMouseLeave:function(){return S(-1)}}),r.createElement(y.q,{symbol:"star",className:d()("".concat(w,"__star"),"".concat(w,"__star--bottom"),g({},"".concat(w,"__star--interactive"),"rate"===l)),onClick:function(){return E(t+1)},onMouseEnter:function(){return A(t+1)},onMouseLeave:function(){return S(-1)}}))})),r.createElement("span",{className:"".concat(w,"__text")},_>-1?N[_-1]:m>-1?N[m-1]:""))}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N="mi-textarea";function A(e){var t,n=e.className,a=e.getInputValue,i=e.value,o=E((0,r.useState)(!1),2),c=o[0],u=o[1],l=E((0,r.useState)(i),2),s=l[0],f=l[1],m=d()(N,(S(t={},"".concat(n),n),S(t,"".concat(N,"--active"),c),t)),p=function(e){u(!1),a(e)},y=function(e){f(e.substring(0,500))};return r.createElement("div",{className:m},r.createElement("textarea",{value:s,onFocus:function(){u(!0)},onBlur:function(e){return p(e.target.value)},onChange:function(e){return y(e.target.value)}}))}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="feed-question";function C(e){var t,n=(0,i.YB)(),a=e.type,o=e.choiceType,c=e.question,u=e.isEmpty,l=e.onChangeInfo,s=e.questionId,d=e.answerList,y=e.inputValue,b=e.isMoreClass,v=e.className,g=n.get("64b5ea4592df8a97beab501ec833f1f0");return 64739e4===a&&64739e4===o?r.createElement("div",{className:"".concat(O)},r.createElement("div",{className:f("".concat(O,"__detail--radio-box"),w({},v||"",!!v))},r.createElement("span",{className:"".concat(O,"__detail-question")},c),u&&r.createElement("span",{className:"".concat(O,"__detail-err")},g),r.createElement("div",{className:"".concat(O,"__detail-answer")},d.map(function(e,t){return r.createElement("div",{className:"".concat(O,"__detail--radio-item"),key:t},r.createElement(m.Z,{className:"".concat(O,"__detail--radio"),selectedValue:y,value:String(t),onChange:function(){return l(String(t),s)}}),r.createElement("span",{className:"".concat(O,"__detail-text")},e))})))):0x26966331===a?r.createElement("div",{className:"".concat(O)},r.createElement("div",{className:f("".concat(O,"__detail--input-box"),(w(t={},"".concat(O,"__detail--no-space"),void 0!==b&&b),w(t,v||"",!!v),t))},r.createElement("span",{className:"".concat(O,"__detail-question")},c),r.createElement(A,{className:f("".concat(O,"__detail-input"),w({},v||"",!!v)),getInputValue:function(e){return l(e,s)},value:y?String(y):""}))):0x26966332===a?r.createElement("div",{className:"".concat(O)},r.createElement("div",{className:f("".concat(O,"__detail--star-box"),w({},v||"",!!v))},r.createElement("span",{className:"".concat(O,"__detail-question")},c),u&&r.createElement("span",{className:"".concat(O,"__detail-err")},g),r.createElement("div",{className:"".concat(O,"__detail-star")},r.createElement(h,{usage:"rate",lightUpStars:Number(y),onClick:function(e){return l(e,s)}})))):64739e4===a&&0x26966331===o?r.createElement("div",{className:"".concat(O)},r.createElement("div",{className:f("".concat(O,"__detail--radio-box ").concat(O,"__detail--checkout-box"),w({},v||"",!!v))},r.createElement("span",{className:"".concat(O,"__detail-question")},c),u&&r.createElement("span",{className:"".concat(O,"__detail-err")},g),r.createElement("div",{className:"".concat(O,"__detail-answer ").concat(O,"__detail-answer-checkout")},d.map(function(e,t){return r.createElement("div",{className:"".concat(O,"__detail--checkout-item"),key:t},r.createElement(p.Z,{className:"".concat(O,"__detail--checkout"),onChange:function(){return l(t,s)},checked:String(y).includes(String(t))}),r.createElement("span",{className:"".concat(O,"__detail-text")},e))})))):r.createElement(r.Fragment,null)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x={1:["support",{c:2,e:32881}],2:["support_service-centre",{c:4,e:32882}],3:["support_spare-parts-price",{c:3,e:32884}],4:["support_service-progress",{c:3,e:32883}],5:["support_aftersales_applylist_feedback",{c:2,e:32889}]};function L(e){var t=e.successFunc,n=e.propsQuestionList,f=e.propsMsfpSurveyId,d=e.propsMsfpSurveyName,m=e.propsUserId,p=e.getNewListInfo,y=e.className,b=e.type,v=(0,i.YB)(),g=(0,i.oW)(),h=(0,r.useContext)(c.J),_=(0,a.TH)().state,S=V((0,r.useState)(n),2),E=S[0],N=S[1],A=V((0,r.useState)(""),2),w=A[0],O=A[1],j=V((0,r.useState)(!1),2),L=j[0],M=j[1],q=function(e){var n=e.map(function(e){return{questionId:e.questionId,msfpSourcequestionidentifier:e.sourceQuestionIdentifier,answer:e.inputValue?String(e.inputValue):""}});h.getService({params:{code:m||"",workorderId:(null==_?void 0:_.workorderId)||"",msfpSurveyId:f||"",msfpSurveyName:d||"",dataList:n,country:g.local}},function(e){M(!1),(0,o.otClick)({tip:x[b][1],pageType:x[b][0],elementName:5===b?"feedback":"selfservice-feedback",elementTitle:"submit",isOpenGA:!0}),(null==e?void 0:e.errNo)===200?t(!0):O((null==e?void 0:e.errMsg)||"")})},P=function(){var e=!1,t=E.map(function(t){return 0x26966331===t.type||t.inputValue||(e=!0),k(I({},t),{isEmpty:!t.inputValue})});N(t),!L&&(e||(q(t),M(!0)))},T=function(e,t){var n=0,r=0,a=E[0],i=E.map(function(i,o){if(i.questionId!==t)return i;if(64739e4===i.type){if(0x26966331===i.choiceType){var c,u="",l=i.noShowValue||"";u=i.inputValue&&String(i.inputValue).indexOf(String(e))>-1?String(i.inputValue).split(",").filter(function(t){return t!==String(e)}).join(","):i.inputValue?i.inputValue+","+e:String(e);var s=i.inputValue&&String(i.inputValue).includes(String(i.answerList.length-1));i.dataChildList&&64739e4===i.type&&e===i.answerList.length-1&&s?(n=2,r=o+1,l=String(E[o+1].inputValue)||""):i.dataChildList&&64739e4===i.type&&e===i.answerList.length-1&&(n=1,r=o+1,a=k(I({},i.dataChildList[0]),{isEmpty:!1,question:"",isMoreClass:!0,inputValue:i.noShowValue||""})),c=k(I({},i),{inputValue:u,noShowValue:l,isEmpty:!u})}else c=k(I({},i),{inputValue:e,isEmpty:!e})}else if(0x26966332===i.type&&i.dataChildList){if(r=o+1,Number(e)>3){var f=String(E[o+1].inputValue)||"";!1===i.isAddMoreQuestion||void 0===i.isAddMoreQuestion?c=k(I({},i),{inputValue:e,isAddMoreQuestion:!1,noShowValue:i.noShowValue,isEmpty:!e}):(n=2,c=k(I({},i),{inputValue:e,isAddMoreQuestion:!1,noShowValue:f,isEmpty:!e}))}else i.isAddMoreQuestion?n=0:(n=1,a=k(I({},i.dataChildList[0]),{isEmpty:!1,inputValue:"undefined"===i.noShowValue?"":i.noShowValue})),c=k(I({},i),{inputValue:e,isAddMoreQuestion:!0,isEmpty:!e})}else c=k(I({},i),{inputValue:e,isEmpty:!e});return c});1===n?i.splice(r,0,a):2===n&&i.splice(r,1),N(i),p&&p(i)};return r.createElement(r.Fragment,null,E.map(function(e){return r.createElement(C,k(I({},e),{onChangeInfo:T,key:e.questionId,className:y}))}),r.createElement("span",{className:"feedback__privacy"},r.createElement(u.b,{inputStr:v.get("1371619ec9ccc7d1d167c04d7f90d2d2",{n1:"#@@#".concat(v.get("ca0f9a86ca33f1d6baa9051bd7f4ed21"),"#@@#")}),target:"_blank",linkArr:["".concat(g.wwwSite.pc,"/about/privacy")]})),r.createElement(l.z,{className:"feedback__btn",onClick:function(){return P()}},v.get("a4d3b161ce1309df1c4e25df28694b7b")),r.createElement(s.F,{msg:w,callback:function(){return O("")},type:"error",className:"mi-address__toast"}))}},72259:function(e,t,n){n.d(t,{c:()=>s,o:()=>l});var r=n(67294),a=n(48785),i=n(81845),o=n(25228);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,a.o)(f),l=(0,r.createContext)(u);function s(e){var t,n=e.siteConfig,a=e.isAutoFetch,s=e.children,d=(0,o.ag)(),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(u))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=m[0],y=m[1];function b(e){var t=e.body,n=(null==e?void 0:e.errmsg)||(null==e?void 0:e.message),r=(null==e?void 0:e.errno)||(null==e?void 0:e.statusCode);return{errMsg:String(n),errNo:Number(r),data:f(t||[])}}var v={url:"".concat(n.apiSite,"/crm/api/XGetQuestion"),method:"POST",basicParams:{from:"mobile"===d?"mobile":"pc"},headers:{"Content-Type":"application/json"},retryOptions:{maxRetryAttempts:3,scalingDuration:3e3},withCredentials:!1};return r.createElement(i.h,{context:l,setState:y,defaultValue:u,adapterError:function(e){return b(e)},adapter:b,value:p,siteConfig:n,isAutoFetch:!0===a,ajaxConfig:v},s)}function f(e){return{dataList:function e(t){return t.map(function(t){return{question:t.question||"",type:t.type||0,choiceType:t.choiceType||0,answerList:t.answerList||[],questionId:t.msfpQuestionId||"",sourceQuestionIdentifier:t.msfpSourcequestionidentifier||"",dataChildList:t.dataChildList&&e(t.dataChildList)||null}})}(Array.from(e.dataList||[])),msfpSurveyId:e.msfpSurveyId,msfpSurveyName:e.msfpSurveyName}}},29183:function(e,t,n){n.d(t,{J:()=>l,j:()=>s});var r=n(67294),a=n(48785),i=n(81845),o=n(25228);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,a.o)(f),l=(0,r.createContext)(u);function s(e){var t,n=e.siteConfig,a=e.isAutoFetch,s=e.children,d=(0,o.ag)(),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(u))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,c=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(c)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=m[0],y=m[1];function b(e){var t=e.body,n=(null==e?void 0:e.errmsg)||(null==e?void 0:e.message),r=(null==e?void 0:e.errno)||(null==e?void 0:e.statusCode);return{errMsg:String(n),errNo:Number(r),data:f(t)}}var v={url:"".concat(n.apiSite,"/crm/api/XSaveAnswer"),method:"POST",basicParams:{from:"mobile"===d?"mobile":"pc"},headers:{"Content-Type":"application/json"},retryOptions:{maxRetryAttempts:3,scalingDuration:3e3},withCredentials:!0};return r.createElement(i.h,{context:l,setState:y,defaultValue:u,adapterError:function(e){return b(e)},adapter:b,value:p,siteConfig:n,isAutoFetch:!0===a,ajaxConfig:v},s)}function f(e){return e}},98070:function(e,t,n){n.d(t,{B:()=>a});var r={de:1031,it:1040,es:3082,fr:1036,nl:1043,pl:1045,jp:1041,ru:1049,vn:1066,th:1054,eg:1025,sa:1025,mx:3082,id:1057,tr:1055,hk:3076,tw:1028,cl:3082,co:3082,pe:3082,kr:1042,"be-nl":1043,"be-fr":1036,"kz-ru":1049,"kz-kk":1087,default:1033},a=function(e){return r[e]||r.default}}}]);