"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["4500"],{47888:function(e,t,r){r.d(t,{x:()=>F});var n=r(67294),i=r(5120),o=r(60744),a=r(21245),u=r(96494),c=r(70126),s=r(71766),l=r(81797),m=r(25093),f=r(56344),d=r(48785),p=r(81845),g=r(80060);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,d.o)(g.t5),_=(0,n.createContext)(y);function b(e){var t,r=e.siteConfig,i=e.isAutoFetch,o=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(y))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,u=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),o.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(u)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],c=a[1];function s(e){var t=e.data,r=e.errmsg,n=e.errno;return{data:(0,g.t5)(t||{}),errMsg:String(r),errNo:Number(n)}}var l={url:"".concat(r.goSite,"/v2/item/space"),method:"GET",basicParams:{from:"web"},withCredentials:!0,retryOptions:{maxRetryAttempts:1,scalingDuration:2e3,excludedErrorCodes:[10001,23e3]}};return n.createElement(p.h,{context:_,setState:c,defaultValue:y,adapterError:function(e){return s(e)},adapter:s,value:u,siteConfig:r,isAutoFetch:!0===i,ajaxConfig:l},o)}var S=r(25228),h=r(48597),I=r(55412),N=r(99506),A=r(75582),k=r(15292),E={data:{showRecentPriceLocal:[{api:!0,locals:["fr","it","de","nl","be","be-nl","be-fr","pl","cz","ro","cl","se"]}]},html:{},js:{},css:{}},w=r(13358),x=r(55709),C=r(94760),T=r(96381),L=r(94184),P=r.n(L);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,u=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(u)throw n}}return o}}(e,t)||M(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}}function R(e){var t,r=e.activityTheme,d=e.isShowEventVersionSelect,p=e.customizeData,g=e.buttonType,v=void 0===g?"buy":g,y=e.spuId,b=e.isShowMarketingTags,L=void 0===b||b,R=e.confirmButtonClick,F=e.closeEventVersionSelect,B=e.onAddToCartSuccess,U="black-gold"===r?"dark":"light",V=j((0,n.useState)([]),2),z=V[0],G=V[1],J=j((0,n.useState)([]),2),X=J[0],$=J[1],W=j((0,n.useState)([]),2),H=W[0],K=W[1],Y=j((0,n.useState)(),2),Z=Y[0],q=Y[1],Q=j((0,n.useState)(e.goodsId),2),ee=Q[0],et=Q[1],er=j((0,n.useState)([]),2),en=er[0],ei=er[1],eo=j((0,n.useState)(""),2),ea=eo[0],eu=eo[1],ec=j((0,n.useState)(!0),2),es=ec[0],el=ec[1],em=(0,n.useRef)(null),ef=(0,n.useRef)(),ed=(0,n.useRef)(""),ep=(0,n.useContext)(_),eg=(0,n.useContext)(f.o),ev=(0,n.useContext)(w.Pk).dispatch,ey=(0,S.ag)(),e_=(0,h.oW)(),eb=(0,h.YB)(),eS=(0,h.aU)(),eh=["exchange","freeshipping","discount"],eI=(0,h.Jd)(eS,E,"EventVersionSelect"),eN=!!eI.data&&!!eI.data.showRecentPriceLocal;(0,n.useEffect)(function(){var e,t=H.filter(function(e){return e.itemId===ee})[0],r=[];t&&(q(t),ef.current=p.filter(function(e){return e.goodsId===ee})[0],0===ef.current.priceType&&eh.includes("discount")&&eh.pop(),1!==ef.current.priceType||eh.includes("discount")||eh.push("discount"),t.marketingTags&&t.marketingTags.filter(function(e){return eh.includes(e.subType)}).forEach(function(e){e.label&&r.push(e.label)}),ei(function(e){if(Array.isArray(e))return O(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||M(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ed.current=t.marketingTags&&(null===(e=t.marketingTags.filter(function(e){return"interestfree"===e.subType})[0])||void 0===e?void 0:e.label)||"")},[ee,H]),(0,n.useEffect)(function(){"success"===ep.ajaxStatus&&el(!1)},[ep.ajaxStatus]),(0,n.useEffect)(function(){ep.getService({params:{spu:y,item_list:p.map(function(e){return e.goodsId}).join()}})},[]),(0,n.useEffect)(function(){if("success"===ep.ajaxStatus){var t=0,r=0;ep.data.spuList.forEach(function(r,n){r.itemList.forEach(function(r){r.itemId===e.goodsId&&(t=n)})}),ep.data.specsList.forEach(function(t,n){t.skuSpecsList.forEach(function(t){t.itemId===e.goodsId&&(r=n)})}),G(ep.data.specsList[r].skuSpecsList),$(ep.data.specsList[r].specsInfo),K(ep.data.spuList[t].itemList)}},[ep.getServiceSuccess]);var eA=(0,I.m)(function(e,t){return t.pipe((0,x.U)(function(e){var t=j(e,2),r=t[0],n=t[1];return r.map(function(e){var t=e.specsName.map(function(e,t){return n[t].list.findIndex(function(t){return t.name===e})});return[t.join(","),{skuName:e.specsName,skuIndex:t,goodsId:[e.itemId]}]})}))},[],[z,X]),ek=j((0,N.$)(function(e,t){return e.pipe((0,C.p)(500),(0,T.w)(function(e){var t=j(e,4),r=t[0],n=t[1],i=t[2],o=t[3],a=(0,m.D)(e_,n,i,o,"mobile"===ey?"mobile":"pc");return eg.getObservable({params:{id:r,tracking_addcart:a.trackingAddCart,otdata:a.otData}}).pipe((0,x.U)(function(e){0===e.errNo?"buy"===v?(B&&B(!1),window.location.href="".concat(e_.buySite["mobile"!==ey?"pc":"m"],"/cart")):(0,A.R)(em.current,function(){ev({type:w.Tm.ADD_TO_CART}),B&&B(!0),F()}):eu(e.errMsg)}))}))},void 0),1)[0];function eE(){var e,t,r,a,u=eN&&(null==Z?void 0:Z.referencePrice)&&String((null===(e=ef.current)||void 0===e?void 0:e.priceType)===0?ef.current.price:null==Z?void 0:Z.salePrice)!==String(null==Z?void 0:Z.marketPrice);return n.createElement("div",{className:"version__info"},n.createElement("div",{className:"version__info-title"},null==Z?void 0:Z.itemName," x 1"),n.createElement("div",{className:"version__info-tag"},(null===(t=ef.current)||void 0===t?void 0:t.tag)&&n.createElement("div",{className:"version__info-tag-item"},null===(r=ef.current)||void 0===r?void 0:r.tag),L&&en.map(function(e,t){return n.createElement("div",{className:"version__info-tag-item",key:t},e)})),n.createElement(i.Y,{className:"version__info-energy",energyInfo:null==Z?void 0:Z.energyInfo}),n.createElement(o.n,{className:"version__info-price",salePrice:String((null===(a=ef.current)||void 0===a?void 0:a.priceType)===0?ef.current.price:null==Z?void 0:Z.salePrice),delPrice:String(null==Z?void 0:Z.marketPrice)}),(L&&ed.current||u)&&n.createElement("div",{className:"version__info-price-detail"},L&&ed.current&&n.createElement("span",{className:"installment"},ed.current),u&&n.createElement("span",null,n.createElement(o.n,{displayType:"string",salePrice:String(null==Z?void 0:Z.referencePrice),translation:eb.get("79d13a832dd0989ecab16b2f88361ba9")}))))}return n.createElement(a.u,{extraClassName:P()("event-version-select__modal event-theme",(D(t={},"event-theme--".concat(U),!!U),D(t,"event-theme--".concat(r),!!r),D(t,"event-version-select__modal-button--disabled",Z&&(0,k.O)(Z)),t)),styleMode:"bottom",isModalShow:d,closeModal:F,isShowCloseIcon:!0,confirmText:Z&&(0,k.O)(Z)?eb.get("b55197a49e8c4cd8c314bc2aa39d6feb"):(null==Z?void 0:Z.isJumpVersion)?eb.get("de08ef55feb28ed601c47c2f249b09ac"):"buy"===v?eb.get("eeceac1af4e7620894d6d2083921bb73"):eb.get("2d0f6b8300be19cf35e89e66f0677f95"),confirm:function(){if(!(Z&&(0,k.O)(Z))){if(R&&ee)R(ee);else if((null==Z?void 0:Z.isJumpVersion)&&Z.spuLink)window.location.href=Z.spuLink;else{var e;ek(["".concat(ee,"-0-1"),"",Number(((null===(e=ef.current)||void 0===e?void 0:e.priceType)===0?ef.current.price:null==Z?void 0:Z.salePrice)||0),""])}}}},es?n.createElement(u.a,{type:"inner"}):n.createElement(n.Fragment,null,n.createElement("div",{className:"version__image"},n.createElement("span",{ref:em},n.createElement(c.E,{alt:"",srcSet:{widescreen:null==Z?void 0:Z.resourceList.filter(function(e){return"image"===e.type})[0].src},widths:{widescreen:260,mobile:97}})),"mobile"===ey&&eE()),n.createElement("div",{className:"version__info-wrapper"},"mobile"!==ey&&eE(),!!X.length&&n.createElement(l.$,{skuMap:eA,skuList:X,skuData:H,currentGoodsId:ee,bigTapDisabledIds:[],setGoodsId:function(e,t){return et(e)},resetGoodsId:function(){return et(e.goodsId)},baseClassName:"sku-section",titleClassName:"sku-section__title",portalClassName:"group-item__sku"})),n.createElement(s.F,{msg:ea,type:"error",callback:function(){return eu("")}})))}function F(e){var t=(0,h.oW)();return n.createElement(b,{siteConfig:t},n.createElement(f.X,{siteConfig:t},n.createElement(R,e)))}},25093:function(e,t,r){r.d(t,{D:()=>a});var n=r(20651),i=r(32195),o=r(86690);function a(e,t,r,a,u){var c,s=(0,n.W)("pageId"),l=(0,n.W)("viewId"),m=(0,i.uZ)()?e.stat.domainId.app:(0,i.j1)()?e.stat.domainId.ios:e.stat.domainId.web,f=(0,i.Xf)("mobile"),d={common:Object.assign((c=(0,o.getSettings)())?{view_tip:c.viewTip||"",instance_id:c.instanceId||"",ref_tip:c.refTip||"",session_id:c.sessionId||"",lastsource:c.lastSource||"",utm_type:c.utmType||"",utm_channel:c.utmChannel||"",utm_campaign:c.utmCampaign||"",utm_source:c.utmSource||"",utm_medium:c.utmMedium||"",utm_term:c.utmTerm||"",utm_content:c.utmContent||"",exp_id:"mistore4"}:{},{app_platform:f,site_country:e.local||"",tip:a||""}),biz:{cart_add:{goods_amount:String(r)}}};return{trackingAddCart:"".concat(m,"->{").concat(s,"}::{").concat(l,"}->{").concat(u,"_buy_").concat(t,"}::{btnBuyNow}"),otData:window.btoa(JSON.stringify(d))}}},80060:function(e,t,r){r.d(t,{XD:()=>l,Xp:()=>d,Xx:()=>s,eZ:()=>v,oi:()=>p,t5:()=>m});var n=r(67294),i=r(48785),o=r(81845),a=r(4170);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,i.o)(m),s=(0,n.createContext)(c);function l(e){var t,r=e.siteConfig,i=e.isAutoFetch,a=e.children,l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(c))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,u=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),o.length!==t);a=!0);}catch(e){u=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(u)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=l[0],d=l[1];function p(e){var t=e.data,r=e.errmsg,n=e.errno;return{data:m(t||{}),errMsg:String(r),errNo:Number(n)}}var g={url:"".concat(r.goSite,"/v2/item/detail"),method:"GET",basicParams:{from:"web"},withCredentials:!0,retryOptions:{maxRetryAttempts:1,scalingDuration:2e3,excludedErrorCodes:[10001,23e3]}};return n.createElement(o.h,{context:s,setState:d,defaultValue:c,adapterError:function(e){return p(e)},adapter:p,value:f,siteConfig:r,isAutoFetch:!0===i,ajaxConfig:g},a)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{productId:Number(e.product_id||0),commodityId:Number(e.commodity_id||0),spuId:String(e.spu_id||""),spuTitle:String(e.spu_title||""),spuDesc:String(e.spu_desc||""),spuOverview:String(e.spu_overview||""),spuType:Number(e.spu_type||1),resourceList:f(e.resource_list||[]),comboInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{comboItemId:Number(e.combo_item_id||0),limitMin:Number(e.limit_min||1),limitMax:Number(e.limit_max||e.limit_min||1),comboGroup:d(e.combo_group||[]),comboList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{comboId:Number(e.combo_id||0),marketPrice:Number(e.market_price||e.price||0),salePrice:Number(e.price||0),savePrice:Number(e.save_price||0),referencePrice:Number(e.reference_price||0),goodsDealer:String(e.goods_dealer||""),mrpInfo:g(e.mrp_info||{}),spuItem:Array.from(e.spu_item||[]).map(function(e){return String(e)}),skuItem:Array.from(e.sku_item||[]).map(function(e){return Number(e)}),skuSalePrice:Array.from(e.sku_item_price||[]).map(function(e){return Number(e)})}})}(e.combo_list||[])}}(e.combo_info||{}),spuList:p(e.spu_list||[]),specsList:v(e.specs_list||[]),offerList:y(e.offer_list||[]),supportList:y(e.support_list||[])}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{type:e.type||"image",src:e.src||""}})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{groupId:Number(e.group_id||0),name:e.name||"",spuItem:Array.from(e.spu_item||[]).map(function(e){return String(e)})}})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){var t,r;return{spuId:String(e.spu_id||""),productId:Number(e.product_id||0),spuName:String(e.spu_name||""),spuLink:String(e.spu_link||""),energyInfo:(0,a.T)((null===(r=e.item_list)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.energy)||[]),itemList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{itemId:Number(e.item_id||0),itemName:String(e.item_name||""),isSale:!!e.is_sale,isOutOfStock:!!e.is_out_of_stock,isNotForSale:!!e.is_not_for_sale,marketPrice:Number(e.market_price||e.price||0),salePrice:Number(e.price||0),savePrice:Number(e.save_price||0),limitMin:Number(e.limit_min||1),limitMax:Number(e.limit_max||e.limit_min||1),goodsDealer:String(e.goods_dealer||""),mrpInfo:g(e.mrp_info||{}),resourceList:f(e.resource_list||[]),energyInfo:(0,a.T)(e.energy||[]),marketingTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{type:String(e.type||""),subType:e.subtype||"",label:String(e.tag_text||"")}})}(e.marketing_tags||[]),referencePrice:Number(e.item_reference_price||0),isJumpVersion:e.is_jump_spu_link||!1,spuLink:String(e.spu_link||""),isShow:e.is_show||!1}})}(e.item_list||[])}})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isShow:!!e.is_show,categoryName:String(e.cat_name||""),countryOrigin:String(e.country_origin||""),importerDetails:String(e.importer_details||""),manufacturerBy:String(e.manufacturer_by||""),manufacturerDetails:String(e.manufacturer_details||""),marketPriceFmt:String(e.market_price||""),salePriceFmt:String(e.sale_price||"")}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{spuId:String(e.spu_id||""),groupId:Number(e.group_id||0),specsInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e,t){return{key:String(e.key||t||""),title:String(e.title||""),list:Array.from(e.list||[]).map(function(e){return{name:String(e.name||""),img:String(e.img||""),rgb:String(e.rgb||"")}})}})}(e.specs_list||[]),skuSpecsList:Array.from(e.sku_list||[]).map(function(e){return{itemId:Number(e.item_id||0),specsName:Array.from(e.specs_item||[]).map(function(e){return String(e)})}})}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{content:String(e.content||""),link:String(e.link||"")}})}},75582:function(e,t,r){r.d(t,{R:()=>n});function n(e,t,r,n){var i=document.querySelector(n||".main-item__cart");if(e&&i){var o=e.getBoundingClientRect(),a=i.getBoundingClientRect(),u=e.cloneNode(!0);u.style.position="fixed",u.style.zIndex="40",u.style.margin="auto",u.style.left="".concat(o.left,"px"),u.style.top="".concat(o.top,"px"),u.style.height="".concat(o.height,"px"),u.style.width="".concat(o.width,"px"),u.style.overflow="hidden",u.style.opacity="0",r?r.appendChild(u):document.body.appendChild(u),setTimeout(function(){u.style.opacity="1"},0),setTimeout(function(){u.style.borderRadius="50%",u.style.transform="scale(0.1)",u.style.left="".concat(a.left-o.width/2,"px"),u.style.top="".concat(a.top-o.height/2,"px"),u.style.transition="opacity .5s cubic-bezier(1,0,1,1), transform .5s linear, left .5s linear, top .5s cubic-bezier(1,0,1,1)",u.style.opacity="0",setTimeout(function(){r?r.removeChild(u):document.body.removeChild(u),t&&t()},500)},500)}else t&&t()}}}]);